{"version":3,"names":["CategoryForm","commonColors","cov_1njoiput7x","s","category","onSubmit","onCancel","f","register","handleSubmit","formState","errors","isSubmitting","watch","setValue","_reacthookform","useForm","defaultValues","b","name","icon","color","type","selectedColor","selectedIcon","handleFormSubmit","data","error","typeOptions","value","label","_jsxruntime","jsxs","className","jsx","_ui","Input","placeholder","message","required","validate","_validation","validateString","minLength","maxLength","Select","options","style","backgroundColor","_categoryIcons","CategoryIcon","availableIcons","find","i","emoji","map","iconItem","IconComponent","onClick","title","validateHexColor","Button","variant","loading","disabled"],"sources":["E:\\my\\otus\\finance_tracker\\frontend\\src\\components\\categories\\CategoryForm.tsx"],"sourcesContent":["import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Category } from \"@/types/api\";\nimport { Input, Select, Button } from \"@/components/ui\";\nimport { validateString, validateHexColor } from \"@/utils/validation\";\nimport { availableIcons, CategoryIcon } from \"@/utils/categoryIcons\";\n\n/**\n * CategoryForm - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n *\n * Responsive Design:\n * - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–µ–π –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö\n * - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ desktop\n *\n * Form Layout:\n * - –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ (–æ–¥–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞)\n * - –≠–ª–µ–º–µ–Ω—Ç—ã –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞: flex-col sm:flex-row (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –Ω–∞ mobile, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –Ω–∞ desktop)\n *\n * –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: 4.3\n */\ninterface CategoryFormProps {\n  category?: Category;\n  onSubmit: (data: CategoryFormData) => Promise<void>;\n  onCancel: () => void;\n}\n\nexport interface CategoryFormData {\n  name: string;\n  icon: string;\n  color: string;\n  type: \"income\" | \"expense\";\n}\n\nconst commonColors = [\n  \"#4CAF50\",\n  \"#8BC34A\",\n  \"#009688\",\n  \"#2196F3\",\n  \"#3F51B5\",\n  \"#9C27B0\",\n  \"#E91E63\",\n  \"#F44336\",\n  \"#FF5722\",\n  \"#FF9800\",\n  \"#FFC107\",\n  \"#607D8B\",\n];\n\nexport function CategoryForm({ category, onSubmit, onCancel }: CategoryFormProps) {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n    watch,\n    setValue,\n  } = useForm<CategoryFormData>({\n    defaultValues: category\n      ? {\n          name: category.name,\n          icon: category.icon,\n          color: category.color,\n          type: category.type,\n        }\n      : {\n          name: \"\",\n          icon: \"üì¶\",\n          color: \"#607D8B\",\n          type: \"expense\",\n        },\n  });\n\n  const selectedColor = watch(\"color\");\n  const selectedIcon = watch(\"icon\");\n\n  const handleFormSubmit = async (data: CategoryFormData) => {\n    try {\n      await onSubmit(data);\n    } catch (error) {\n      // Error handling is done in parent component\n    }\n  };\n\n  const typeOptions = [\n    { value: \"income\", label: \"–î–æ—Ö–æ–¥\" },\n    { value: \"expense\", label: \"–†–∞—Å—Ö–æ–¥\" },\n  ];\n\n  return (\n    <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-4\">\n      <Input\n        label=\"–ù–∞–∑–≤–∞–Ω–∏–µ\"\n        type=\"text\"\n        placeholder=\"–ù–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ–¥—É–∫—Ç—ã\"\n        error={errors.name?.message}\n        {...register(\"name\", {\n          required: \"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\",\n          validate: (value) =>\n            validateString(value, { minLength: 1, maxLength: 100 }) || true,\n        })}\n      />\n\n      <Select\n        label=\"–¢–∏–ø\"\n        options={typeOptions}\n        error={errors.type?.message}\n        {...register(\"type\", {\n          required: \"–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\",\n        })}\n      />\n\n      <div>\n        <label className=\"block text-sm font-medium text-foreground mb-2\">–ò–∫–æ–Ω–∫–∞</label>\n        <div className=\"flex items-center gap-3 mb-3\">\n          <div\n            className=\"w-12 h-12 rounded-xl flex items-center justify-center border-2 border-border\"\n            style={{ backgroundColor: `${selectedColor}20` }}\n          >\n            <CategoryIcon\n              icon={selectedIcon}\n              className=\"h-6 w-6\"\n              style={{ color: selectedColor }}\n            />\n          </div>\n          <span className=\"text-sm text-foreground\">\n            {availableIcons.find((i) => i.emoji === selectedIcon)?.name ||\n              \"–í—ã–±–µ—Ä–∏—Ç–µ –∏–∫–æ–Ω–∫—É\"}\n          </span>\n        </div>\n        <div className=\"grid grid-cols-8 sm:grid-cols-10 gap-2\">\n          {availableIcons.map((iconItem) => {\n            const IconComponent = iconItem.icon;\n            return (\n              <button\n                key={iconItem.emoji}\n                type=\"button\"\n                onClick={() => setValue(\"icon\", iconItem.emoji)}\n                className={`w-10 h-10 rounded-lg flex items-center justify-center hover:bg-muted transition-[background-color,transform] ${\n                  selectedIcon === iconItem.emoji\n                    ? \"bg-primary/10 ring-2 ring-primary\"\n                    : \"bg-muted/50\"\n                }`}\n                title={iconItem.name}\n              >\n                <IconComponent className=\"h-5 w-5 text-foreground\" />\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      <div>\n        <label className=\"block text-sm font-medium text-foreground mb-2\">–¶–≤–µ—Ç</label>\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-2\">\n          <div\n            className=\"w-12 h-12 rounded border-2 border-border\"\n            style={{ backgroundColor: selectedColor }}\n          />\n          <Input\n            type=\"text\"\n            placeholder=\"#000000\"\n            error={errors.color?.message}\n            {...register(\"color\", {\n              required: \"–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç\",\n              validate: (value) => validateHexColor(value) || true,\n            })}\n          />\n        </div>\n        <div className=\"grid grid-cols-10 sm:grid-cols-12 gap-2\">\n          {commonColors.map((color) => (\n            <button\n              key={color}\n              type=\"button\"\n              onClick={() => setValue(\"color\", color)}\n              className={`w-8 h-8 rounded border-2 transition-[border-color,transform] ${\n                selectedColor === color\n                  ? \"border-foreground scale-110\"\n                  : \"border-border\"\n              }`}\n              style={{ backgroundColor: color }}\n              aria-label={`Select color ${color}`}\n            />\n          ))}\n        </div>\n      </div>\n\n      <div className=\"flex gap-3 pt-4\">\n        <Button\n          type=\"submit\"\n          variant=\"primary\"\n          loading={isSubmitting}\n          disabled={isSubmitting}\n          className=\"flex-1\"\n        >\n          {category ? \"–û–±–Ω–æ–≤–∏—Ç—å\" : \"–°–æ–∑–¥–∞—Ç—å\"}\n        </Button>\n        <Button\n          type=\"button\"\n          variant=\"secondary\"\n          onClick={onCancel}\n          disabled={isSubmitting}\n          className=\"flex-1\"\n        >\n          –û—Ç–º–µ–Ω–∞\n        </Button>\n      </div>\n    </form>\n  );\n}\n"],"mappings":"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","ignoreList":[]}