{"version":3,"sources":["E:\\my\\otus\\finance_tracker\\frontend\\__tests__\\components\\CurrencySelector.test.tsx"],"sourcesContent":["/**\r\n * Unit tests — CurrencySelector\r\n * Рендер списка валют и вызов onChange.\r\n */\r\nimport React from \"react\";\r\nimport { render, screen } from \"@testing-library/react\";\r\nimport userEvent from \"@testing-library/user-event\";\r\nimport { CurrencySelector } from \"@/components/currencies/CurrencySelector\";\r\n\r\nconst mockCurrencies = [\r\n  { code: \"USD\", name: \"US Dollar\", symbol: \"$\", isActive: true, createdAt: \"\" },\r\n  { code: \"EUR\", name: \"Euro\", symbol: \"€\", isActive: true, createdAt: \"\" },\r\n  { code: \"X\", name: \"Inactive\", symbol: \"x\", isActive: false, createdAt: \"\" },\r\n];\r\n\r\ndescribe(\"CurrencySelector\", () => {\r\n  it(\"renders label and options\", () => {\r\n    const onChange = jest.fn();\r\n    render(\r\n      <CurrencySelector\r\n        currencies={mockCurrencies}\r\n        value=\"USD\"\r\n        onChange={onChange}\r\n      />\r\n    );\r\n    expect(screen.getByText(\"Валюта\")).toBeInTheDocument();\r\n    expect(screen.getByRole(\"combobox\")).toBeInTheDocument();\r\n    expect(screen.getByRole(\"option\", { name: /USD — US Dollar/ })).toBeInTheDocument();\r\n    expect(screen.getByRole(\"option\", { name: /EUR — Euro/ })).toBeInTheDocument();\r\n    expect(screen.queryByText(/Inactive/)).not.toBeInTheDocument();\r\n  });\r\n\r\n  it(\"calls onChange when selection changes\", async () => {\r\n    const onChange = jest.fn();\r\n    render(\r\n      <CurrencySelector\r\n        currencies={mockCurrencies}\r\n        value=\"USD\"\r\n        onChange={onChange}\r\n      />\r\n    );\r\n    await userEvent.selectOptions(screen.getByRole(\"combobox\"), \"EUR\");\r\n    expect(onChange).toHaveBeenCalledWith(\"EUR\");\r\n  });\r\n});\r\n"],"names":["mockCurrencies","code","name","symbol","isActive","createdAt","describe","it","onChange","jest","fn","render","CurrencySelector","currencies","value","expect","screen","getByText","toBeInTheDocument","getByRole","queryByText","not","userEvent","selectOptions","toHaveBeenCalledWith"],"mappings":"AAAA;;;CAGC;;;;;8DACiB;wBACa;kEACT;kCACW;;;;;;AAEjC,MAAMA,iBAAiB;IACrB;QAAEC,MAAM;QAAOC,MAAM;QAAaC,QAAQ;QAAKC,UAAU;QAAMC,WAAW;IAAG;IAC7E;QAAEJ,MAAM;QAAOC,MAAM;QAAQC,QAAQ;QAAKC,UAAU;QAAMC,WAAW;IAAG;IACxE;QAAEJ,MAAM;QAAKC,MAAM;QAAYC,QAAQ;QAAKC,UAAU;QAAOC,WAAW;IAAG;CAC5E;AAEDC,SAAS,oBAAoB;IAC3BC,GAAG,6BAA6B;QAC9B,MAAMC,WAAWC,KAAKC,EAAE;QACxBC,IAAAA,cAAM,gBACJ,qBAACC,kCAAgB;YACfC,YAAYb;YACZc,OAAM;YACNN,UAAUA;;QAGdO,OAAOC,cAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;QACpDH,OAAOC,cAAM,CAACG,SAAS,CAAC,aAAaD,iBAAiB;QACtDH,OAAOC,cAAM,CAACG,SAAS,CAAC,UAAU;YAAEjB,MAAM;QAAkB,IAAIgB,iBAAiB;QACjFH,OAAOC,cAAM,CAACG,SAAS,CAAC,UAAU;YAAEjB,MAAM;QAAa,IAAIgB,iBAAiB;QAC5EH,OAAOC,cAAM,CAACI,WAAW,CAAC,aAAaC,GAAG,CAACH,iBAAiB;IAC9D;IAEAX,GAAG,yCAAyC;QAC1C,MAAMC,WAAWC,KAAKC,EAAE;QACxBC,IAAAA,cAAM,gBACJ,qBAACC,kCAAgB;YACfC,YAAYb;YACZc,OAAM;YACNN,UAAUA;;QAGd,MAAMc,kBAAS,CAACC,aAAa,CAACP,cAAM,CAACG,SAAS,CAAC,aAAa;QAC5DJ,OAAOP,UAAUgB,oBAAoB,CAAC;IACxC;AACF"}