{"version":3,"names":["TransactionsPage","TransactionsPageContent","cov_1gfbivepgc","f","transactions","transactionsPagination","categories","loading","error","loadTransactions","loadCategories","createTransaction","updateTransaction","deleteTransaction","clearError","s","_AppContext","useApp","isCreateModalOpen","setIsCreateModalOpen","_react","useState","isEditModalOpen","setIsEditModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","selectedTransaction","setSelectedTransaction","currentPage","setCurrentPage","getDefaultFilters","today","Date","firstDayOfMonth","getFullYear","getMonth","formatDate","date","year","month","String","padStart","day","getDate","startDate","endDate","filters","setFilters","csvImportOpen","setCsvImportOpen","csvExportOpen","setCsvExportOpen","pageSize","searchParams","_navigation","useSearchParams","useEffect","b","get","window","history","replaceState","location","pathname","fetchData","page","handleFilterChange","newFilters","handleCreate","data","handleEdit","transaction","handleUpdate","id","handleDeleteClick","find","t","handleDeleteConfirm","_jsxruntime","jsx","className","jsxs","_ui","Button","variant","onClick","Modal","isOpen","onClose","title","size","_csv","CSVImportForm","CSVExportDialog","_card","Card","CardContent","type","_lucidereact","X","_transactions","TransactionFilters","onFilterChange","TransactionList","totalPages","totalItems","onPageChange","onEdit","onDelete","TransactionForm","onSubmit","onCancel","amount","currency","description","Suspense","fallback"],"sources":["E:\\my\\otus\\finance_tracker\\frontend\\src\\app\\transactions\\page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState, Suspense } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport { useApp } from \"@/contexts/AppContext\";\nimport { Transaction } from \"@/types/api\";\nimport {\n  TransactionList,\n  TransactionFilters,\n  TransactionForm,\n  TransactionFilterValues,\n} from \"@/components/transactions\";\nimport { CSVImportForm, CSVExportDialog } from \"@/components/csv\";\nimport { Modal, Button } from \"@/components/ui\";\nimport { Card, CardContent } from \"@/components/ui/shadcn/card\";\nimport { X } from \"lucide-react\";\n\nfunction TransactionsPageContent() {\n  const {\n    transactions,\n    transactionsPagination,\n    categories,\n    loading,\n    error,\n    loadTransactions,\n    loadCategories,\n    createTransaction,\n    updateTransaction,\n    deleteTransaction,\n    clearError,\n  } = useApp();\n\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState<Transaction | null>(\n    null\n  );\n  const [currentPage, setCurrentPage] = useState(1);\n\n  // Инициализируем фильтры с датами по умолчанию\n  const getDefaultFilters = (): TransactionFilterValues => {\n    const today = new Date();\n    const firstDayOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);\n\n    const formatDate = (date: Date) => {\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, \"0\");\n      const day = String(date.getDate()).padStart(2, \"0\");\n      return `${year}-${month}-${day}`;\n    };\n\n    return {\n      startDate: formatDate(firstDayOfMonth),\n      endDate: formatDate(today),\n    };\n  };\n\n  const [filters, setFilters] = useState<TransactionFilterValues>(getDefaultFilters());\n  const [csvImportOpen, setCsvImportOpen] = useState(false);\n  const [csvExportOpen, setCsvExportOpen] = useState(false);\n  const pageSize = 10;\n  const searchParams = useSearchParams();\n\n  useEffect(() => {\n    loadCategories();\n  }, [loadCategories]);\n\n  useEffect(() => {\n    if (searchParams.get(\"openAdd\") === \"1\" && !isCreateModalOpen) {\n      setIsCreateModalOpen(true);\n      // Очищаем query параметр после открытия\n      window.history.replaceState({}, \"\", window.location.pathname);\n    }\n  }, [searchParams, isCreateModalOpen]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await loadTransactions({ page: currentPage, pageSize, ...filters });\n    };\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentPage, filters]);\n\n  const handleFilterChange = (newFilters: TransactionFilterValues) => {\n    setFilters(newFilters);\n    setCurrentPage(1);\n  };\n\n  const handleCreate = async (data: any) => {\n    try {\n      await createTransaction(data);\n      setIsCreateModalOpen(false);\n    } catch {\n      // Error is handled in context\n    }\n  };\n\n  const handleEdit = (transaction: Transaction) => {\n    setSelectedTransaction(transaction);\n    setIsEditModalOpen(true);\n  };\n\n  const handleUpdate = async (data: any) => {\n    if (!selectedTransaction) return;\n    try {\n      await updateTransaction(selectedTransaction.id, data);\n      setIsEditModalOpen(false);\n      setSelectedTransaction(null);\n    } catch {\n      // Error is handled in context\n    }\n  };\n\n  const handleDeleteClick = (id: string) => {\n    const transaction = transactions?.find((t) => t.id === id);\n    if (transaction) {\n      setSelectedTransaction(transaction);\n      setIsDeleteModalOpen(true);\n    }\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (!selectedTransaction) return;\n    try {\n      await deleteTransaction(selectedTransaction.id);\n      setIsDeleteModalOpen(false);\n      setSelectedTransaction(null);\n    } catch {\n      // Error is handled in context\n    }\n  };\n\n  return (\n    <div className=\"min-h-full bg-background\">\n      <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n        <div className=\"mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n          <h1 className=\"text-2xl font-semibold text-foreground md:text-3xl\">\n            Транзакции\n          </h1>\n          <div className=\"flex flex-wrap gap-2\">\n            <Button variant=\"secondary\" onClick={() => setCsvImportOpen(true)}>\n              Импорт CSV\n            </Button>\n            <Button variant=\"secondary\" onClick={() => setCsvExportOpen(true)}>\n              Экспорт CSV\n            </Button>\n          </div>\n        </div>\n\n        <Modal\n          isOpen={csvImportOpen}\n          onClose={() => setCsvImportOpen(false)}\n          title=\"Импорт из CSV\"\n          size=\"xl\"\n        >\n          <CSVImportForm />\n        </Modal>\n\n        <CSVExportDialog\n          isOpen={csvExportOpen}\n          onClose={() => setCsvExportOpen(false)}\n          categories={categories}\n        />\n\n        {error && (\n          <Card className=\"mb-6 rounded-2xl border-destructive/50 bg-destructive/10 shadow-sm\">\n            <CardContent className=\"flex flex-row items-center justify-between py-4\">\n              <span className=\"text-destructive\">{error}</span>\n              <button\n                type=\"button\"\n                onClick={clearError}\n                className=\"rounded-2xl p-1 text-destructive hover:text-destructive/80\"\n                aria-label=\"Закрыть\"\n              >\n                <X className=\"h-5 w-5\" />\n              </button>\n            </CardContent>\n          </Card>\n        )}\n\n        <TransactionFilters\n          categories={categories}\n          onFilterChange={handleFilterChange}\n        />\n\n        <TransactionList\n          transactions={transactions ?? []}\n          loading={loading}\n          currentPage={currentPage}\n          totalPages={transactionsPagination?.totalPages ?? 1}\n          totalItems={transactionsPagination?.totalItems ?? 0}\n          pageSize={pageSize}\n          onPageChange={setCurrentPage}\n          onEdit={handleEdit}\n          onDelete={handleDeleteClick}\n        />\n\n        <Modal\n          isOpen={isCreateModalOpen}\n          onClose={() => setIsCreateModalOpen(false)}\n          title=\"Создать транзакцию\"\n        >\n          <TransactionForm\n            categories={categories}\n            onSubmit={handleCreate}\n            onCancel={() => setIsCreateModalOpen(false)}\n          />\n        </Modal>\n\n        <Modal\n          isOpen={isEditModalOpen}\n          onClose={() => {\n            setIsEditModalOpen(false);\n            setSelectedTransaction(null);\n          }}\n          title=\"Редактировать транзакцию\"\n        >\n          {selectedTransaction && (\n            <TransactionForm\n              transaction={selectedTransaction}\n              categories={categories}\n              onSubmit={handleUpdate}\n              onCancel={() => {\n                setIsEditModalOpen(false);\n                setSelectedTransaction(null);\n              }}\n            />\n          )}\n        </Modal>\n\n        <Modal\n          isOpen={isDeleteModalOpen}\n          onClose={() => {\n            setIsDeleteModalOpen(false);\n            setSelectedTransaction(null);\n          }}\n          title=\"Удалить транзакцию\"\n          size=\"sm\"\n        >\n          <div className=\"space-y-4\">\n            <p className=\"text-foreground\">\n              Вы уверены, что хотите удалить эту транзакцию?\n            </p>\n            {selectedTransaction && (\n              <div className=\"rounded-2xl border border-border bg-muted/30 p-4\">\n                <p className=\"font-semibold text-foreground\">\n                  {selectedTransaction.amount} {selectedTransaction.currency}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">\n                  {selectedTransaction.description}\n                </p>\n              </div>\n            )}\n            <div className=\"flex gap-3\">\n              <Button variant=\"danger\" onClick={handleDeleteConfirm} className=\"flex-1\">\n                Удалить\n              </Button>\n              <Button\n                variant=\"secondary\"\n                onClick={() => {\n                  setIsDeleteModalOpen(false);\n                  setSelectedTransaction(null);\n                }}\n                className=\"flex-1\"\n              >\n                Отмена\n              </Button>\n            </div>\n          </div>\n        </Modal>\n      </div>\n    </div>\n  );\n}\n\nexport default function TransactionsPage() {\n  return (\n    <Suspense\n      fallback={<div className=\"min-h-full bg-background p-8\">Загрузка...</div>}\n    >\n      <TransactionsPageContent />\n    </Suspense>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}