{"version":3,"names":["BudgetCard","budget","category","spent","onEdit","onDelete","cov_tha4ca66","f","budgetAmount","s","Number","amount","spentAmount","remaining","percentage","b","getProgressColor","getTextColor","periodLabel","period","currency","_jsxruntime","jsxs","className","jsx","style","backgroundColor","color","name","categoryId","_ui","Button","variant","size","onClick","fill","strokeLinecap","strokeLinejoin","strokeWidth","viewBox","stroke","d","id","_format","formatCurrency","Math","abs","toFixed","transform","min","role","formatDate","startDate","endDate"],"sources":["E:\\my\\otus\\finance_tracker\\frontend\\src\\components\\budgets\\BudgetCard.tsx"],"sourcesContent":["import React from \"react\";\nimport { Budget, Category } from \"@/types/api\";\nimport { formatCurrency, formatDate } from \"@/utils/format\";\nimport { Button } from \"@/components/ui\";\n\ninterface BudgetCardProps {\n  budget: Budget;\n  category?: Category;\n  spent: number;\n  onEdit: (budget: Budget) => void;\n  onDelete: (id: string) => void;\n}\n\nexport function BudgetCard({\n  budget,\n  category,\n  spent,\n  onEdit,\n  onDelete,\n}: BudgetCardProps) {\n  const budgetAmount = Number(budget.amount);\n  const spentAmount = Number(spent);\n  const remaining = budgetAmount - spentAmount;\n  const percentage = budgetAmount > 0 ? (spentAmount / budgetAmount) * 100 : 0;\n\n  const getProgressColor = () => {\n    if (percentage < 70) return \"bg-green-500\";\n    if (percentage < 90) return \"bg-yellow-500\";\n    return \"bg-red-500\";\n  };\n\n  const getTextColor = () => {\n    if (percentage < 70) return \"text-green-600\";\n    if (percentage < 90) return \"text-yellow-600\";\n    return \"text-red-600\";\n  };\n\n  const periodLabel = budget.period === \"monthly\" ? \"Месячный\" : \"Годовой\";\n  const currency = budget.currency ?? \"RUB\";\n\n  return (\n    <div className=\"bg-card rounded-lg shadow p-4 hover:shadow-md transition-shadow\">\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2\">\n            {category && (\n              <span\n                className=\"w-3 h-3 rounded-full flex-shrink-0\"\n                style={{ backgroundColor: category.color }}\n                aria-hidden=\"true\"\n              />\n            )}\n            <h3 className=\"text-lg font-semibold text-foreground truncate\">\n              {category ? category.name : budget.categoryId}\n            </h3>\n          </div>\n          <p className=\"text-sm text-muted-foreground\">{periodLabel}</p>\n        </div>\n\n        <div className=\"flex gap-2 flex-shrink-0\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => onEdit(budget)}\n            aria-label=\"Edit budget\"\n          >\n            <svg\n              className=\"w-4 h-4\"\n              fill=\"none\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth=\"2\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n            </svg>\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => onDelete(budget.id)}\n            aria-label=\"Delete budget\"\n            className=\"text-destructive hover:text-destructive/80 hover:bg-destructive/10\"\n          >\n            <svg\n              className=\"w-4 h-4\"\n              fill=\"none\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth=\"2\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n            </svg>\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"space-y-2\">\n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-muted-foreground\">Бюджет:</span>\n          <span className=\"font-medium text-foreground\">\n            {formatCurrency(budgetAmount, currency)}\n          </span>\n        </div>\n\n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-muted-foreground\">Потрачено:</span>\n          <span className={`font-medium ${getTextColor()}`}>\n            {formatCurrency(spentAmount, currency)}\n          </span>\n        </div>\n\n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-muted-foreground\">Осталось:</span>\n          <span\n            className={`font-medium ${remaining >= 0 ? \"text-foreground\" : \"text-destructive\"}`}\n          >\n            {formatCurrency(Math.abs(remaining), currency)}\n            {remaining < 0 && \" (превышение)\"}\n          </span>\n        </div>\n\n        <div className=\"pt-2\">\n          <div className=\"flex justify-between items-center mb-1\">\n            <span className=\"text-xs text-muted-foreground\">Использовано</span>\n            <span className={`text-sm font-semibold ${getTextColor()}`}>\n              {percentage.toFixed(1)}%\n            </span>\n          </div>\n          <div className=\"w-full bg-muted rounded-full h-2 overflow-hidden\">\n            <div\n              className={`h-full rounded-full origin-left transition-transform duration-300 ${getProgressColor()}`}\n              style={{ transform: `scaleX(${Math.min(percentage, 100) / 100})` }}\n              role=\"progressbar\"\n              aria-valuenow={percentage}\n              aria-valuemin={0}\n              aria-valuemax={100}\n              aria-label={`Budget usage: ${percentage.toFixed(1)}%`}\n            />\n          </div>\n        </div>\n\n        <div className=\"pt-2 text-xs text-muted-foreground flex items-center gap-2\">\n          <svg\n            className=\"w-4 h-4\"\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"2\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n          </svg>\n          {formatDate(budget.startDate)} - {formatDate(budget.endDate)}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}