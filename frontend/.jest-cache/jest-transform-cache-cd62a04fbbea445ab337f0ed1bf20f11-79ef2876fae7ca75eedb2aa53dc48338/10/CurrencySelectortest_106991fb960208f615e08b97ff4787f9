c3bc82596951e1f180474afe952c6293
/**
 * Unit tests — CurrencySelector
 * Рендер списка валют и вызов onChange.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _CurrencySelector = require("../../src/components/currencies/CurrencySelector");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockCurrencies = [
    {
        code: "USD",
        name: "US Dollar",
        symbol: "$",
        isActive: true,
        createdAt: ""
    },
    {
        code: "EUR",
        name: "Euro",
        symbol: "€",
        isActive: true,
        createdAt: ""
    },
    {
        code: "X",
        name: "Inactive",
        symbol: "x",
        isActive: false,
        createdAt: ""
    }
];
describe("CurrencySelector", ()=>{
    it("renders label and options", ()=>{
        const onChange = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CurrencySelector.CurrencySelector, {
            currencies: mockCurrencies,
            value: "USD",
            onChange: onChange
        }));
        expect(_react1.screen.getByText("Валюта")).toBeInTheDocument();
        expect(_react1.screen.getByRole("combobox")).toBeInTheDocument();
        expect(_react1.screen.getByRole("option", {
            name: /USD — US Dollar/
        })).toBeInTheDocument();
        expect(_react1.screen.getByRole("option", {
            name: /EUR — Euro/
        })).toBeInTheDocument();
        expect(_react1.screen.queryByText(/Inactive/)).not.toBeInTheDocument();
    });
    it("calls onChange when selection changes", async ()=>{
        const onChange = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CurrencySelector.CurrencySelector, {
            currencies: mockCurrencies,
            value: "USD",
            onChange: onChange
        }));
        await _userevent.default.selectOptions(_react1.screen.getByRole("combobox"), "EUR");
        expect(onChange).toHaveBeenCalledWith("EUR");
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxteVxcb3R1c1xcZmluYW5jZV90cmFja2VyXFxmcm9udGVuZFxcX190ZXN0c19fXFxjb21wb25lbnRzXFxDdXJyZW5jeVNlbGVjdG9yLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBVbml0IHRlc3RzIOKAlCBDdXJyZW5jeVNlbGVjdG9yXHJcbiAqINCg0LXQvdC00LXRgCDRgdC/0LjRgdC60LAg0LLQsNC70Y7RgiDQuCDQstGL0LfQvtCyIG9uQ2hhbmdlLlxyXG4gKi9cclxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0XCI7XHJcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSBcIkB0ZXN0aW5nLWxpYnJhcnkvdXNlci1ldmVudFwiO1xyXG5pbXBvcnQgeyBDdXJyZW5jeVNlbGVjdG9yIH0gZnJvbSBcIkAvY29tcG9uZW50cy9jdXJyZW5jaWVzL0N1cnJlbmN5U2VsZWN0b3JcIjtcclxuXHJcbmNvbnN0IG1vY2tDdXJyZW5jaWVzID0gW1xyXG4gIHsgY29kZTogXCJVU0RcIiwgbmFtZTogXCJVUyBEb2xsYXJcIiwgc3ltYm9sOiBcIiRcIiwgaXNBY3RpdmU6IHRydWUsIGNyZWF0ZWRBdDogXCJcIiB9LFxyXG4gIHsgY29kZTogXCJFVVJcIiwgbmFtZTogXCJFdXJvXCIsIHN5bWJvbDogXCLigqxcIiwgaXNBY3RpdmU6IHRydWUsIGNyZWF0ZWRBdDogXCJcIiB9LFxyXG4gIHsgY29kZTogXCJYXCIsIG5hbWU6IFwiSW5hY3RpdmVcIiwgc3ltYm9sOiBcInhcIiwgaXNBY3RpdmU6IGZhbHNlLCBjcmVhdGVkQXQ6IFwiXCIgfSxcclxuXTtcclxuXHJcbmRlc2NyaWJlKFwiQ3VycmVuY3lTZWxlY3RvclwiLCAoKSA9PiB7XHJcbiAgaXQoXCJyZW5kZXJzIGxhYmVsIGFuZCBvcHRpb25zXCIsICgpID0+IHtcclxuICAgIGNvbnN0IG9uQ2hhbmdlID0gamVzdC5mbigpO1xyXG4gICAgcmVuZGVyKFxyXG4gICAgICA8Q3VycmVuY3lTZWxlY3RvclxyXG4gICAgICAgIGN1cnJlbmNpZXM9e21vY2tDdXJyZW5jaWVzfVxyXG4gICAgICAgIHZhbHVlPVwiVVNEXCJcclxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XHJcbiAgICAgIC8+XHJcbiAgICApO1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCLQktCw0LvRjtGC0LBcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZShcImNvbWJvYm94XCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoXCJvcHRpb25cIiwgeyBuYW1lOiAvVVNEIOKAlCBVUyBEb2xsYXIvIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoXCJvcHRpb25cIiwgeyBuYW1lOiAvRVVSIOKAlCBFdXJvLyB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoL0luYWN0aXZlLykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImNhbGxzIG9uQ2hhbmdlIHdoZW4gc2VsZWN0aW9uIGNoYW5nZXNcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKCk7XHJcbiAgICByZW5kZXIoXHJcbiAgICAgIDxDdXJyZW5jeVNlbGVjdG9yXHJcbiAgICAgICAgY3VycmVuY2llcz17bW9ja0N1cnJlbmNpZXN9XHJcbiAgICAgICAgdmFsdWU9XCJVU0RcIlxyXG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cclxuICAgICAgLz5cclxuICAgICk7XHJcbiAgICBhd2FpdCB1c2VyRXZlbnQuc2VsZWN0T3B0aW9ucyhzY3JlZW4uZ2V0QnlSb2xlKFwiY29tYm9ib3hcIiksIFwiRVVSXCIpO1xyXG4gICAgZXhwZWN0KG9uQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcIkVVUlwiKTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJtb2NrQ3VycmVuY2llcyIsImNvZGUiLCJuYW1lIiwic3ltYm9sIiwiaXNBY3RpdmUiLCJjcmVhdGVkQXQiLCJkZXNjcmliZSIsIml0Iiwib25DaGFuZ2UiLCJqZXN0IiwiZm4iLCJyZW5kZXIiLCJDdXJyZW5jeVNlbGVjdG9yIiwiY3VycmVuY2llcyIsInZhbHVlIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJnZXRCeVJvbGUiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsInVzZXJFdmVudCIsInNlbGVjdE9wdGlvbnMiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDOzs7Ozs4REFDaUI7d0JBQ2E7a0VBQ1Q7a0NBQ1c7Ozs7OztBQUVqQyxNQUFNQSxpQkFBaUI7SUFDckI7UUFBRUMsTUFBTTtRQUFPQyxNQUFNO1FBQWFDLFFBQVE7UUFBS0MsVUFBVTtRQUFNQyxXQUFXO0lBQUc7SUFDN0U7UUFBRUosTUFBTTtRQUFPQyxNQUFNO1FBQVFDLFFBQVE7UUFBS0MsVUFBVTtRQUFNQyxXQUFXO0lBQUc7SUFDeEU7UUFBRUosTUFBTTtRQUFLQyxNQUFNO1FBQVlDLFFBQVE7UUFBS0MsVUFBVTtRQUFPQyxXQUFXO0lBQUc7Q0FDNUU7QUFFREMsU0FBUyxvQkFBb0I7SUFDM0JDLEdBQUcsNkJBQTZCO1FBQzlCLE1BQU1DLFdBQVdDLEtBQUtDLEVBQUU7UUFDeEJDLElBQUFBLGNBQU0sZ0JBQ0oscUJBQUNDLGtDQUFnQjtZQUNmQyxZQUFZYjtZQUNaYyxPQUFNO1lBQ05OLFVBQVVBOztRQUdkTyxPQUFPQyxjQUFNLENBQUNDLFNBQVMsQ0FBQyxXQUFXQyxpQkFBaUI7UUFDcERILE9BQU9DLGNBQU0sQ0FBQ0csU0FBUyxDQUFDLGFBQWFELGlCQUFpQjtRQUN0REgsT0FBT0MsY0FBTSxDQUFDRyxTQUFTLENBQUMsVUFBVTtZQUFFakIsTUFBTTtRQUFrQixJQUFJZ0IsaUJBQWlCO1FBQ2pGSCxPQUFPQyxjQUFNLENBQUNHLFNBQVMsQ0FBQyxVQUFVO1lBQUVqQixNQUFNO1FBQWEsSUFBSWdCLGlCQUFpQjtRQUM1RUgsT0FBT0MsY0FBTSxDQUFDSSxXQUFXLENBQUMsYUFBYUMsR0FBRyxDQUFDSCxpQkFBaUI7SUFDOUQ7SUFFQVgsR0FBRyx5Q0FBeUM7UUFDMUMsTUFBTUMsV0FBV0MsS0FBS0MsRUFBRTtRQUN4QkMsSUFBQUEsY0FBTSxnQkFDSixxQkFBQ0Msa0NBQWdCO1lBQ2ZDLFlBQVliO1lBQ1pjLE9BQU07WUFDTk4sVUFBVUE7O1FBR2QsTUFBTWMsa0JBQVMsQ0FBQ0MsYUFBYSxDQUFDUCxjQUFNLENBQUNHLFNBQVMsQ0FBQyxhQUFhO1FBQzVESixPQUFPUCxVQUFVZ0Isb0JBQW9CLENBQUM7SUFDeEM7QUFDRiJ9