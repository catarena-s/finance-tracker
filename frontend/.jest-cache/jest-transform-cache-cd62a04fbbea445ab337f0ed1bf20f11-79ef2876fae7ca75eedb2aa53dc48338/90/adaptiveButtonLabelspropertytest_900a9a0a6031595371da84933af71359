d3f994062c866af541451a0a389d3de0
/**
 * Property-Based Test — Adaptive Button Labels
 * 
 * **Свойство 7: Адаптивные метки кнопок**
 * **Валидирует: Требования 2.5**
 * 
 * For any button with long text, when viewport width is less than 640px,
 * the abbreviated variant of the text should be displayed.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _fastcheck = /*#__PURE__*/ _interop_require_default(require("fast-check"));
const _page = /*#__PURE__*/ _interop_require_default(require("../../src/app/dashboard/page"));
const _AppContext = require("../../src/contexts/AppContext");
const _propertytestconfig = require("./property-test-config");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Helper function to render DashboardPage with AppProvider
const renderDashboard = ()=>{
    return (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AppContext.AppProvider, {
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
    }));
};
describe("Property: Adaptive Button Labels", ()=>{
    describe("Period filter button labels", ()=>{
        it("should display abbreviated labels (Д/М/Г) on mobile viewports (< 640px)", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            _fastcheck.default.assert(_fastcheck.default.property(_fastcheck.default.integer({
                min: 320,
                max: 639
            }), (viewportWidth)=>{
                // Mock window.innerWidth for mobile
                Object.defineProperty(window, "innerWidth", {
                    writable: true,
                    configurable: true,
                    value: viewportWidth
                });
                const { container } = renderDashboard();
                // Find period buttons - they now use h-9 min-w-[36px] classes
                const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
                expect(periodButtons.length).toBeGreaterThan(0);
                periodButtons.forEach((button)=>{
                    // Find spans with abbreviated labels (visible on mobile)
                    const shortLabels = button.querySelectorAll("span.sm\\:hidden");
                    // Find spans with full labels (hidden on mobile)
                    const fullLabels = button.querySelectorAll("span.hidden.sm\\:inline");
                    // Should have both short and full label spans
                    expect(shortLabels.length).toBeGreaterThan(0);
                    expect(fullLabels.length).toBeGreaterThan(0);
                    // Short labels should be visible on mobile (sm:hidden means hidden on sm and above)
                    shortLabels.forEach((label)=>{
                        expect(label).toHaveClass("sm:hidden");
                        // Text should be abbreviated (Д, М, or Г)
                        const text = label.textContent?.trim();
                        expect(text).toMatch(/^[ДМГ]$/);
                    });
                    // Full labels should be hidden on mobile (hidden sm:inline)
                    fullLabels.forEach((label)=>{
                        expect(label).toHaveClass("hidden");
                        expect(label).toHaveClass("sm:inline");
                        // Text should be full (День, Месяц, or Год)
                        const text = label.textContent?.trim();
                        expect(text).toMatch(/^(День|Месяц|Год)$/);
                    });
                });
            }), {
                numRuns: (0, _propertytestconfig.getNumRuns)("FAST")
            });
        });
        it("should display full labels (День/Месяц/Год) on desktop viewports (>= 640px)", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            _fastcheck.default.assert(_fastcheck.default.property(_fastcheck.default.integer({
                min: 640,
                max: 1440
            }), (viewportWidth)=>{
                // Mock window.innerWidth for desktop
                Object.defineProperty(window, "innerWidth", {
                    writable: true,
                    configurable: true,
                    value: viewportWidth
                });
                const { container } = renderDashboard();
                // Find period buttons
                const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
                expect(periodButtons.length).toBeGreaterThan(0);
                periodButtons.forEach((button)=>{
                    // Find spans with abbreviated labels (hidden on desktop)
                    const shortLabels = button.querySelectorAll("span.sm\\:hidden");
                    // Find spans with full labels (visible on desktop)
                    const fullLabels = button.querySelectorAll("span.hidden.sm\\:inline");
                    // Should have both short and full label spans
                    expect(shortLabels.length).toBeGreaterThan(0);
                    expect(fullLabels.length).toBeGreaterThan(0);
                    // Short labels should be hidden on desktop (sm:hidden)
                    shortLabels.forEach((label)=>{
                        expect(label).toHaveClass("sm:hidden");
                    });
                    // Full labels should be visible on desktop (sm:inline)
                    fullLabels.forEach((label)=>{
                        expect(label).toHaveClass("hidden");
                        expect(label).toHaveClass("sm:inline");
                        // Text should be full (День, Месяц, or Год)
                        const text = label.textContent?.trim();
                        expect(text).toMatch(/^(День|Месяц|Год)$/);
                    });
                });
            }), {
                numRuns: (0, _propertytestconfig.getNumRuns)("FAST")
            });
        });
        it("should have exactly 3 period buttons (День/Месяц/Год)", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            _fastcheck.default.assert(_fastcheck.default.property(_fastcheck.default.integer({
                min: 320,
                max: 1440
            }), (viewportWidth)=>{
                Object.defineProperty(window, "innerWidth", {
                    writable: true,
                    configurable: true,
                    value: viewportWidth
                });
                const { container } = renderDashboard();
                // Find period buttons
                const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
                // Should have exactly 3 period buttons (day, month, year)
                expect(periodButtons.length).toBe(3);
            }), {
                numRuns: (0, _propertytestconfig.getNumRuns)("FAST")
            });
        });
        it("should ensure each button has both full and abbreviated label variants", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            _fastcheck.default.assert(_fastcheck.default.property(_fastcheck.default.integer({
                min: 320,
                max: 1440
            }), (viewportWidth)=>{
                Object.defineProperty(window, "innerWidth", {
                    writable: true,
                    configurable: true,
                    value: viewportWidth
                });
                const { container } = renderDashboard();
                // Find period buttons
                const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
                expect(periodButtons.length).toBeGreaterThan(0);
                periodButtons.forEach((button)=>{
                    // Each button should have exactly one short label span
                    const shortLabels = button.querySelectorAll("span.sm\\:hidden");
                    expect(shortLabels.length).toBe(1);
                    // Each button should have exactly one full label span
                    const fullLabels = button.querySelectorAll("span.hidden.sm\\:inline");
                    expect(fullLabels.length).toBe(1);
                });
            }), {
                numRuns: (0, _propertytestconfig.getNumRuns)("FAST")
            });
        });
    });
    describe("Label mapping consistency", ()=>{
        it("should ensure abbreviated labels match their full counterparts", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            const { container } = renderDashboard();
            // Find period buttons
            const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
            expect(periodButtons.length).toBe(3);
            // Define expected label mappings
            const labelMappings = {
                "День": "Д",
                "Месяц": "М",
                "Год": "Г"
            };
            periodButtons.forEach((button)=>{
                const fullLabel = button.querySelector("span.hidden.sm\\:inline");
                const shortLabel = button.querySelector("span.sm\\:hidden");
                expect(fullLabel).not.toBeNull();
                expect(shortLabel).not.toBeNull();
                if (fullLabel && shortLabel) {
                    const fullText = fullLabel.textContent?.trim() || "";
                    const shortText = shortLabel.textContent?.trim() || "";
                    // Verify the mapping is correct
                    expect(labelMappings[fullText]).toBe(shortText);
                }
            });
        });
        it("should verify all expected period labels are present", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            _fastcheck.default.assert(_fastcheck.default.property(_fastcheck.default.integer({
                min: 320,
                max: 1440
            }), (viewportWidth)=>{
                Object.defineProperty(window, "innerWidth", {
                    writable: true,
                    configurable: true,
                    value: viewportWidth
                });
                const { container } = renderDashboard();
                // Expected full labels
                const expectedFullLabels = [
                    "День",
                    "Месяц",
                    "Год"
                ];
                // Expected abbreviated labels
                const expectedShortLabels = [
                    "Д",
                    "М",
                    "Г"
                ];
                // Find all full labels
                const fullLabels = container.querySelectorAll("button.h-9.min-w-\\[36px\\] span.hidden.sm\\:inline");
                // Find all short labels
                const shortLabels = container.querySelectorAll("button.h-9.min-w-\\[36px\\] span.sm\\:hidden");
                // Collect actual labels
                const actualFullLabels = Array.from(fullLabels).map((label)=>label.textContent?.trim() || "");
                const actualShortLabels = Array.from(shortLabels).map((label)=>label.textContent?.trim() || "");
                // Verify all expected labels are present
                expectedFullLabels.forEach((expected)=>{
                    expect(actualFullLabels).toContain(expected);
                });
                expectedShortLabels.forEach((expected)=>{
                    expect(actualShortLabels).toContain(expected);
                });
            }), {
                numRuns: (0, _propertytestconfig.getNumRuns)("FAST")
            });
        });
    });
    describe("Edge cases", ()=>{
        it("should maintain label structure at exactly 320px (minimum supported width)", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            const viewportWidth = 320;
            Object.defineProperty(window, "innerWidth", {
                writable: true,
                configurable: true,
                value: viewportWidth
            });
            const { container } = renderDashboard();
            const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
            expect(periodButtons.length).toBe(3);
            periodButtons.forEach((button)=>{
                // Should have both label variants
                const shortLabels = button.querySelectorAll("span.sm\\:hidden");
                const fullLabels = button.querySelectorAll("span.hidden.sm\\:inline");
                expect(shortLabels.length).toBe(1);
                expect(fullLabels.length).toBe(1);
            });
        });
        it("should switch label visibility at exactly 640px (sm breakpoint)", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            const viewportWidth = 640;
            Object.defineProperty(window, "innerWidth", {
                writable: true,
                configurable: true,
                value: viewportWidth
            });
            const { container } = renderDashboard();
            const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
            expect(periodButtons.length).toBe(3);
            periodButtons.forEach((button)=>{
                // Should have responsive classes for label switching
                const shortLabels = button.querySelectorAll("span.sm\\:hidden");
                const fullLabels = button.querySelectorAll("span.hidden.sm\\:inline");
                expect(shortLabels.length).toBe(1);
                expect(fullLabels.length).toBe(1);
                // Verify classes are present
                shortLabels.forEach((label)=>{
                    expect(label).toHaveClass("sm:hidden");
                });
                fullLabels.forEach((label)=>{
                    expect(label).toHaveClass("hidden");
                    expect(label).toHaveClass("sm:inline");
                });
            });
        });
        it("should maintain label structure at 639px (just below sm breakpoint)", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            const viewportWidth = 639;
            Object.defineProperty(window, "innerWidth", {
                writable: true,
                configurable: true,
                value: viewportWidth
            });
            const { container } = renderDashboard();
            const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
            expect(periodButtons.length).toBe(3);
            periodButtons.forEach((button)=>{
                const shortLabels = button.querySelectorAll("span.sm\\:hidden");
                const fullLabels = button.querySelectorAll("span.hidden.sm\\:inline");
                expect(shortLabels.length).toBe(1);
                expect(fullLabels.length).toBe(1);
                // On mobile, short labels should be visible
                shortLabels.forEach((label)=>{
                    const text = label.textContent?.trim();
                    expect(text).toMatch(/^[ДМГ]$/);
                });
            });
        });
    });
    describe("Requirement validation", ()=>{
        it("validates Requirement 2.5: Abbreviated labels when text doesn't fit", ()=>{
            _fastcheck.default.assert(_fastcheck.default.property(_fastcheck.default.integer({
                min: 320,
                max: 639
            }), (viewportWidth)=>{
                Object.defineProperty(window, "innerWidth", {
                    writable: true,
                    configurable: true,
                    value: viewportWidth
                });
                const { container } = renderDashboard();
                // Requirement 2.5: WHEN текст на кнопках не помещается,
                // THE Система SHALL использовать сокращенные варианты меток (Д/М/Г)
                const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
                expect(periodButtons.length).toBeGreaterThan(0);
                periodButtons.forEach((button)=>{
                    // On mobile viewports, abbreviated labels should be present
                    const shortLabels = button.querySelectorAll("span.sm\\:hidden");
                    expect(shortLabels.length).toBe(1);
                    shortLabels.forEach((label)=>{
                        const text = label.textContent?.trim();
                        // Must be one of the abbreviated labels
                        expect(text).toMatch(/^[ДМГ]$/);
                    });
                });
            }), {
                numRuns: (0, _propertytestconfig.getNumRuns)("MEDIUM")
            });
        });
        it("validates that full labels are used on desktop when space is available", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            _fastcheck.default.assert(_fastcheck.default.property(_fastcheck.default.integer({
                min: 640,
                max: 1440
            }), (viewportWidth)=>{
                Object.defineProperty(window, "innerWidth", {
                    writable: true,
                    configurable: true,
                    value: viewportWidth
                });
                const { container } = renderDashboard();
                // On desktop, full labels should be available
                const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
                expect(periodButtons.length).toBeGreaterThan(0);
                periodButtons.forEach((button)=>{
                    // Full labels should be present with sm:inline class
                    const fullLabels = button.querySelectorAll("span.hidden.sm\\:inline");
                    expect(fullLabels.length).toBe(1);
                    fullLabels.forEach((label)=>{
                        const text = label.textContent?.trim();
                        // Must be one of the full labels
                        expect(text).toMatch(/^(День|Месяц|Год)$/);
                    });
                });
            }), {
                numRuns: (0, _propertytestconfig.getNumRuns)("MEDIUM")
            });
        });
    });
    describe("General property validation", ()=>{
        it("should verify adaptive label pattern across all viewport sizes", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            _fastcheck.default.assert(_fastcheck.default.property(_fastcheck.default.integer({
                min: 320,
                max: 1440
            }), (viewportWidth)=>{
                Object.defineProperty(window, "innerWidth", {
                    writable: true,
                    configurable: true,
                    value: viewportWidth
                });
                const { container } = renderDashboard();
                // Find all period buttons
                const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
                expect(periodButtons.length).toBe(3);
                // Each button must have the adaptive label pattern
                periodButtons.forEach((button)=>{
                    // Must have exactly one short label with sm:hidden
                    const shortLabels = button.querySelectorAll("span.sm\\:hidden");
                    expect(shortLabels.length).toBe(1);
                    // Must have exactly one full label with hidden sm:inline
                    const fullLabels = button.querySelectorAll("span.hidden.sm\\:inline");
                    expect(fullLabels.length).toBe(1);
                    // Short label must be abbreviated (1 character)
                    const shortText = shortLabels[0].textContent?.trim() || "";
                    expect(shortText.length).toBe(1);
                    // Full label must be longer (2+ characters)
                    const fullText = fullLabels[0].textContent?.trim() || "";
                    expect(fullText.length).toBeGreaterThan(1);
                });
            }), {
                numRuns: (0, _propertytestconfig.getNumRuns)("MEDIUM")
            });
        });
        it("should ensure button functionality is not affected by label adaptation", ()=>{
            jest.setTimeout((0, _propertytestconfig.getTimeout)("SLOW"));
            _fastcheck.default.assert(_fastcheck.default.property(_fastcheck.default.integer({
                min: 320,
                max: 1440
            }), (viewportWidth)=>{
                Object.defineProperty(window, "innerWidth", {
                    writable: true,
                    configurable: true,
                    value: viewportWidth
                });
                const { container } = renderDashboard();
                // Find all period buttons
                const periodButtons = container.querySelectorAll("button.h-9.min-w-\\[36px\\]");
                expect(periodButtons.length).toBe(3);
                // All buttons should be functional (not disabled)
                periodButtons.forEach((button)=>{
                    expect(button).not.toBeDisabled();
                    // Should have proper button attributes
                    expect(button.tagName).toBe("BUTTON");
                    // Should have minimum touch target size classes
                    expect(button).toHaveClass("h-9");
                    expect(button).toHaveClass("min-w-[36px]");
                });
            }), {
                numRuns: (0, _propertytestconfig.getNumRuns)("FAST")
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxteVxcb3R1c1xcZmluYW5jZV90cmFja2VyXFxmcm9udGVuZFxcX190ZXN0c19fXFxwcm9wZXJ0aWVzXFxhZGFwdGl2ZUJ1dHRvbkxhYmVscy5wcm9wZXJ0eS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUHJvcGVydHktQmFzZWQgVGVzdCDigJQgQWRhcHRpdmUgQnV0dG9uIExhYmVsc1xyXG4gKiBcclxuICogKirQodCy0L7QudGB0YLQstC+IDc6INCQ0LTQsNC/0YLQuNCy0L3Ri9C1INC80LXRgtC60Lgg0LrQvdC+0L/QvtC6KipcclxuICogKirQktCw0LvQuNC00LjRgNGD0LXRgjog0KLRgNC10LHQvtCy0LDQvdC40Y8gMi41KipcclxuICogXHJcbiAqIEZvciBhbnkgYnV0dG9uIHdpdGggbG9uZyB0ZXh0LCB3aGVuIHZpZXdwb3J0IHdpZHRoIGlzIGxlc3MgdGhhbiA2NDBweCxcclxuICogdGhlIGFiYnJldmlhdGVkIHZhcmlhbnQgb2YgdGhlIHRleHQgc2hvdWxkIGJlIGRpc3BsYXllZC5cclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0XCI7XHJcbmltcG9ydCBmYyBmcm9tIFwiZmFzdC1jaGVja1wiO1xyXG5pbXBvcnQgRGFzaGJvYXJkUGFnZSBmcm9tIFwiQC9hcHAvZGFzaGJvYXJkL3BhZ2VcIjtcclxuaW1wb3J0IHsgQXBwUHJvdmlkZXIgfSBmcm9tIFwiQC9jb250ZXh0cy9BcHBDb250ZXh0XCI7XHJcbmltcG9ydCB7IGdldE51bVJ1bnMsIGdldFRpbWVvdXQgfSBmcm9tIFwiLi9wcm9wZXJ0eS10ZXN0LWNvbmZpZ1wiO1xyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHJlbmRlciBEYXNoYm9hcmRQYWdlIHdpdGggQXBwUHJvdmlkZXJcclxuY29uc3QgcmVuZGVyRGFzaGJvYXJkID0gKCkgPT4ge1xyXG4gIHJldHVybiByZW5kZXIoXHJcbiAgICA8QXBwUHJvdmlkZXI+XHJcbiAgICAgIDxEYXNoYm9hcmRQYWdlIC8+XHJcbiAgICA8L0FwcFByb3ZpZGVyPlxyXG4gICk7XHJcbn07XHJcblxyXG5kZXNjcmliZShcIlByb3BlcnR5OiBBZGFwdGl2ZSBCdXR0b24gTGFiZWxzXCIsICgpID0+IHtcclxuICBkZXNjcmliZShcIlBlcmlvZCBmaWx0ZXIgYnV0dG9uIGxhYmVsc1wiLCAoKSA9PiB7XHJcbiAgICBpdChcInNob3VsZCBkaXNwbGF5IGFiYnJldmlhdGVkIGxhYmVscyAo0JQv0Jwv0JMpIG9uIG1vYmlsZSB2aWV3cG9ydHMgKDwgNjQwcHgpXCIsICgpID0+IHtcclxuICAgICAgamVzdC5zZXRUaW1lb3V0KGdldFRpbWVvdXQoXCJTTE9XXCIpKTtcclxuICAgICAgZmMuYXNzZXJ0KFxyXG4gICAgICAgIGZjLnByb3BlcnR5KFxyXG4gICAgICAgICAgZmMuaW50ZWdlcih7IG1pbjogMzIwLCBtYXg6IDYzOSB9KSwgLy8gTW9iaWxlIHZpZXdwb3J0IHJhbmdlXHJcbiAgICAgICAgICAodmlld3BvcnRXaWR0aCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBNb2NrIHdpbmRvdy5pbm5lcldpZHRoIGZvciBtb2JpbGVcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJpbm5lcldpZHRoXCIsIHtcclxuICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgdmFsdWU6IHZpZXdwb3J0V2lkdGgsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlckRhc2hib2FyZCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gRmluZCBwZXJpb2QgYnV0dG9ucyAtIHRoZXkgbm93IHVzZSBoLTkgbWluLXctWzM2cHhdIGNsYXNzZXNcclxuICAgICAgICAgICAgY29uc3QgcGVyaW9kQnV0dG9ucyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgIFwiYnV0dG9uLmgtOS5taW4tdy1cXFxcWzM2cHhcXFxcXVwiXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QocGVyaW9kQnV0dG9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuXHJcbiAgICAgICAgICAgIHBlcmlvZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gRmluZCBzcGFucyB3aXRoIGFiYnJldmlhdGVkIGxhYmVscyAodmlzaWJsZSBvbiBtb2JpbGUpXHJcbiAgICAgICAgICAgICAgY29uc3Qgc2hvcnRMYWJlbHMgPSBidXR0b24ucXVlcnlTZWxlY3RvckFsbChcInNwYW4uc21cXFxcOmhpZGRlblwiKTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBGaW5kIHNwYW5zIHdpdGggZnVsbCBsYWJlbHMgKGhpZGRlbiBvbiBtb2JpbGUpXHJcbiAgICAgICAgICAgICAgY29uc3QgZnVsbExhYmVscyA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yQWxsKFwic3Bhbi5oaWRkZW4uc21cXFxcOmlubGluZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU2hvdWxkIGhhdmUgYm90aCBzaG9ydCBhbmQgZnVsbCBsYWJlbCBzcGFuc1xyXG4gICAgICAgICAgICAgIGV4cGVjdChzaG9ydExhYmVscy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgICAgICAgICBleHBlY3QoZnVsbExhYmVscy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU2hvcnQgbGFiZWxzIHNob3VsZCBiZSB2aXNpYmxlIG9uIG1vYmlsZSAoc206aGlkZGVuIG1lYW5zIGhpZGRlbiBvbiBzbSBhbmQgYWJvdmUpXHJcbiAgICAgICAgICAgICAgc2hvcnRMYWJlbHMuZm9yRWFjaCgobGFiZWwpID0+IHtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChsYWJlbCkudG9IYXZlQ2xhc3MoXCJzbTpoaWRkZW5cIik7XHJcbiAgICAgICAgICAgICAgICAvLyBUZXh0IHNob3VsZCBiZSBhYmJyZXZpYXRlZCAo0JQsINCcLCBvciDQkylcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBsYWJlbC50ZXh0Q29udGVudD8udHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KHRleHQpLnRvTWF0Y2goL15b0JTQnNCTXSQvKTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gRnVsbCBsYWJlbHMgc2hvdWxkIGJlIGhpZGRlbiBvbiBtb2JpbGUgKGhpZGRlbiBzbTppbmxpbmUpXHJcbiAgICAgICAgICAgICAgZnVsbExhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KGxhYmVsKS50b0hhdmVDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChsYWJlbCkudG9IYXZlQ2xhc3MoXCJzbTppbmxpbmVcIik7XHJcbiAgICAgICAgICAgICAgICAvLyBUZXh0IHNob3VsZCBiZSBmdWxsICjQlNC10L3RjCwg0JzQtdGB0Y/Rhiwgb3Ig0JPQvtC0KVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGxhYmVsLnRleHRDb250ZW50Py50cmltKCk7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QodGV4dCkudG9NYXRjaCgvXijQlNC10L3RjHzQnNC10YHRj9GGfNCT0L7QtCkkLyk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICksXHJcbiAgICAgICAgeyBudW1SdW5zOiBnZXROdW1SdW5zKFwiRkFTVFwiKSB9XHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdChcInNob3VsZCBkaXNwbGF5IGZ1bGwgbGFiZWxzICjQlNC10L3RjC/QnNC10YHRj9GGL9CT0L7QtCkgb24gZGVza3RvcCB2aWV3cG9ydHMgKD49IDY0MHB4KVwiLCAoKSA9PiB7XHJcbiAgICAgIGplc3Quc2V0VGltZW91dChnZXRUaW1lb3V0KFwiU0xPV1wiKSk7XHJcbiAgICAgIGZjLmFzc2VydChcclxuICAgICAgICBmYy5wcm9wZXJ0eShcclxuICAgICAgICAgIGZjLmludGVnZXIoeyBtaW46IDY0MCwgbWF4OiAxNDQwIH0pLCAvLyBEZXNrdG9wIHZpZXdwb3J0IHJhbmdlXHJcbiAgICAgICAgICAodmlld3BvcnRXaWR0aCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBNb2NrIHdpbmRvdy5pbm5lcldpZHRoIGZvciBkZXNrdG9wXHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiaW5uZXJXaWR0aFwiLCB7XHJcbiAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJEYXNoYm9hcmQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgcGVyaW9kIGJ1dHRvbnNcclxuICAgICAgICAgICAgY29uc3QgcGVyaW9kQnV0dG9ucyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgIFwiYnV0dG9uLmgtOS5taW4tdy1cXFxcWzM2cHhcXFxcXVwiXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QocGVyaW9kQnV0dG9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuXHJcbiAgICAgICAgICAgIHBlcmlvZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gRmluZCBzcGFucyB3aXRoIGFiYnJldmlhdGVkIGxhYmVscyAoaGlkZGVuIG9uIGRlc2t0b3ApXHJcbiAgICAgICAgICAgICAgY29uc3Qgc2hvcnRMYWJlbHMgPSBidXR0b24ucXVlcnlTZWxlY3RvckFsbChcInNwYW4uc21cXFxcOmhpZGRlblwiKTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBGaW5kIHNwYW5zIHdpdGggZnVsbCBsYWJlbHMgKHZpc2libGUgb24gZGVza3RvcClcclxuICAgICAgICAgICAgICBjb25zdCBmdWxsTGFiZWxzID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuLmhpZGRlbi5zbVxcXFw6aW5saW5lXCIpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBTaG91bGQgaGF2ZSBib3RoIHNob3J0IGFuZCBmdWxsIGxhYmVsIHNwYW5zXHJcbiAgICAgICAgICAgICAgZXhwZWN0KHNob3J0TGFiZWxzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICAgICAgICAgIGV4cGVjdChmdWxsTGFiZWxzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG5cclxuICAgICAgICAgICAgICAvLyBTaG9ydCBsYWJlbHMgc2hvdWxkIGJlIGhpZGRlbiBvbiBkZXNrdG9wIChzbTpoaWRkZW4pXHJcbiAgICAgICAgICAgICAgc2hvcnRMYWJlbHMuZm9yRWFjaCgobGFiZWwpID0+IHtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChsYWJlbCkudG9IYXZlQ2xhc3MoXCJzbTpoaWRkZW5cIik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEZ1bGwgbGFiZWxzIHNob3VsZCBiZSB2aXNpYmxlIG9uIGRlc2t0b3AgKHNtOmlubGluZSlcclxuICAgICAgICAgICAgICBmdWxsTGFiZWxzLmZvckVhY2goKGxhYmVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QobGFiZWwpLnRvSGF2ZUNsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KGxhYmVsKS50b0hhdmVDbGFzcyhcInNtOmlubGluZVwiKTtcclxuICAgICAgICAgICAgICAgIC8vIFRleHQgc2hvdWxkIGJlIGZ1bGwgKNCU0LXQvdGMLCDQnNC10YHRj9GGLCBvciDQk9C+0LQpXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gbGFiZWwudGV4dENvbnRlbnQ/LnRyaW0oKTtcclxuICAgICAgICAgICAgICAgIGV4cGVjdCh0ZXh0KS50b01hdGNoKC9eKNCU0LXQvdGMfNCc0LXRgdGP0YZ80JPQvtC0KSQvKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKSxcclxuICAgICAgICB7IG51bVJ1bnM6IGdldE51bVJ1bnMoXCJGQVNUXCIpIH1cclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KFwic2hvdWxkIGhhdmUgZXhhY3RseSAzIHBlcmlvZCBidXR0b25zICjQlNC10L3RjC/QnNC10YHRj9GGL9CT0L7QtClcIiwgKCkgPT4ge1xyXG4gICAgICBqZXN0LnNldFRpbWVvdXQoZ2V0VGltZW91dChcIlNMT1dcIikpO1xyXG4gICAgICBmYy5hc3NlcnQoXHJcbiAgICAgICAgZmMucHJvcGVydHkoXHJcbiAgICAgICAgICBmYy5pbnRlZ2VyKHsgbWluOiAzMjAsIG1heDogMTQ0MCB9KSxcclxuICAgICAgICAgICh2aWV3cG9ydFdpZHRoKSA9PiB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiaW5uZXJXaWR0aFwiLCB7XHJcbiAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJEYXNoYm9hcmQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgcGVyaW9kIGJ1dHRvbnNcclxuICAgICAgICAgICAgY29uc3QgcGVyaW9kQnV0dG9ucyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgIFwiYnV0dG9uLmgtOS5taW4tdy1cXFxcWzM2cHhcXFxcXVwiXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyBTaG91bGQgaGF2ZSBleGFjdGx5IDMgcGVyaW9kIGJ1dHRvbnMgKGRheSwgbW9udGgsIHllYXIpXHJcbiAgICAgICAgICAgIGV4cGVjdChwZXJpb2RCdXR0b25zLmxlbmd0aCkudG9CZSgzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApLFxyXG4gICAgICAgIHsgbnVtUnVuczogZ2V0TnVtUnVucyhcIkZBU1RcIikgfVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJzaG91bGQgZW5zdXJlIGVhY2ggYnV0dG9uIGhhcyBib3RoIGZ1bGwgYW5kIGFiYnJldmlhdGVkIGxhYmVsIHZhcmlhbnRzXCIsICgpID0+IHtcclxuICAgICAgamVzdC5zZXRUaW1lb3V0KGdldFRpbWVvdXQoXCJTTE9XXCIpKTtcclxuICAgICAgZmMuYXNzZXJ0KFxyXG4gICAgICAgIGZjLnByb3BlcnR5KFxyXG4gICAgICAgICAgZmMuaW50ZWdlcih7IG1pbjogMzIwLCBtYXg6IDE0NDAgfSksXHJcbiAgICAgICAgICAodmlld3BvcnRXaWR0aCkgPT4ge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCBcImlubmVyV2lkdGhcIiwge1xyXG4gICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICB2YWx1ZTogdmlld3BvcnRXaWR0aCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyRGFzaGJvYXJkKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBGaW5kIHBlcmlvZCBidXR0b25zXHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmlvZEJ1dHRvbnMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgICAgICBcImJ1dHRvbi5oLTkubWluLXctXFxcXFszNnB4XFxcXF1cIlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KHBlcmlvZEJ1dHRvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcblxyXG4gICAgICAgICAgICBwZXJpb2RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIEVhY2ggYnV0dG9uIHNob3VsZCBoYXZlIGV4YWN0bHkgb25lIHNob3J0IGxhYmVsIHNwYW5cclxuICAgICAgICAgICAgICBjb25zdCBzaG9ydExhYmVscyA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yQWxsKFwic3Bhbi5zbVxcXFw6aGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgIGV4cGVjdChzaG9ydExhYmVscy5sZW5ndGgpLnRvQmUoMSk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEVhY2ggYnV0dG9uIHNob3VsZCBoYXZlIGV4YWN0bHkgb25lIGZ1bGwgbGFiZWwgc3BhblxyXG4gICAgICAgICAgICAgIGNvbnN0IGZ1bGxMYWJlbHMgPSBidXR0b24ucXVlcnlTZWxlY3RvckFsbChcInNwYW4uaGlkZGVuLnNtXFxcXDppbmxpbmVcIik7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KGZ1bGxMYWJlbHMubGVuZ3RoKS50b0JlKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApLFxyXG4gICAgICAgIHsgbnVtUnVuczogZ2V0TnVtUnVucyhcIkZBU1RcIikgfVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKFwiTGFiZWwgbWFwcGluZyBjb25zaXN0ZW5jeVwiLCAoKSA9PiB7XHJcbiAgICBpdChcInNob3VsZCBlbnN1cmUgYWJicmV2aWF0ZWQgbGFiZWxzIG1hdGNoIHRoZWlyIGZ1bGwgY291bnRlcnBhcnRzXCIsICgpID0+IHtcclxuICAgICAgamVzdC5zZXRUaW1lb3V0KGdldFRpbWVvdXQoXCJTTE9XXCIpKTtcclxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlckRhc2hib2FyZCgpO1xyXG5cclxuICAgICAgLy8gRmluZCBwZXJpb2QgYnV0dG9uc1xyXG4gICAgICBjb25zdCBwZXJpb2RCdXR0b25zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgXCJidXR0b24uaC05Lm1pbi13LVxcXFxbMzZweFxcXFxdXCJcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChwZXJpb2RCdXR0b25zLmxlbmd0aCkudG9CZSgzKTtcclxuXHJcbiAgICAgIC8vIERlZmluZSBleHBlY3RlZCBsYWJlbCBtYXBwaW5nc1xyXG4gICAgICBjb25zdCBsYWJlbE1hcHBpbmdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAgIFwi0JTQtdC90YxcIjogXCLQlFwiLFxyXG4gICAgICAgIFwi0JzQtdGB0Y/RhlwiOiBcItCcXCIsXHJcbiAgICAgICAgXCLQk9C+0LRcIjogXCLQk1wiLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgcGVyaW9kQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcclxuICAgICAgICBjb25zdCBmdWxsTGFiZWwgPSBidXR0b24ucXVlcnlTZWxlY3RvcihcInNwYW4uaGlkZGVuLnNtXFxcXDppbmxpbmVcIik7XHJcbiAgICAgICAgY29uc3Qgc2hvcnRMYWJlbCA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwic3Bhbi5zbVxcXFw6aGlkZGVuXCIpO1xyXG5cclxuICAgICAgICBleHBlY3QoZnVsbExhYmVsKS5ub3QudG9CZU51bGwoKTtcclxuICAgICAgICBleHBlY3Qoc2hvcnRMYWJlbCkubm90LnRvQmVOdWxsKCk7XHJcblxyXG4gICAgICAgIGlmIChmdWxsTGFiZWwgJiYgc2hvcnRMYWJlbCkge1xyXG4gICAgICAgICAgY29uc3QgZnVsbFRleHQgPSBmdWxsTGFiZWwudGV4dENvbnRlbnQ/LnRyaW0oKSB8fCBcIlwiO1xyXG4gICAgICAgICAgY29uc3Qgc2hvcnRUZXh0ID0gc2hvcnRMYWJlbC50ZXh0Q29udGVudD8udHJpbSgpIHx8IFwiXCI7XHJcblxyXG4gICAgICAgICAgLy8gVmVyaWZ5IHRoZSBtYXBwaW5nIGlzIGNvcnJlY3RcclxuICAgICAgICAgIGV4cGVjdChsYWJlbE1hcHBpbmdzW2Z1bGxUZXh0XSkudG9CZShzaG9ydFRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdChcInNob3VsZCB2ZXJpZnkgYWxsIGV4cGVjdGVkIHBlcmlvZCBsYWJlbHMgYXJlIHByZXNlbnRcIiwgKCkgPT4ge1xyXG4gICAgICBqZXN0LnNldFRpbWVvdXQoZ2V0VGltZW91dChcIlNMT1dcIikpO1xyXG4gICAgICBmYy5hc3NlcnQoXHJcbiAgICAgICAgZmMucHJvcGVydHkoXHJcbiAgICAgICAgICBmYy5pbnRlZ2VyKHsgbWluOiAzMjAsIG1heDogMTQ0MCB9KSxcclxuICAgICAgICAgICh2aWV3cG9ydFdpZHRoKSA9PiB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiaW5uZXJXaWR0aFwiLCB7XHJcbiAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJEYXNoYm9hcmQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEV4cGVjdGVkIGZ1bGwgbGFiZWxzXHJcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkRnVsbExhYmVscyA9IFtcItCU0LXQvdGMXCIsIFwi0JzQtdGB0Y/RhlwiLCBcItCT0L7QtFwiXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEV4cGVjdGVkIGFiYnJldmlhdGVkIGxhYmVsc1xyXG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFNob3J0TGFiZWxzID0gW1wi0JRcIiwgXCLQnFwiLCBcItCTXCJdO1xyXG5cclxuICAgICAgICAgICAgLy8gRmluZCBhbGwgZnVsbCBsYWJlbHNcclxuICAgICAgICAgICAgY29uc3QgZnVsbExhYmVscyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgIFwiYnV0dG9uLmgtOS5taW4tdy1cXFxcWzM2cHhcXFxcXSBzcGFuLmhpZGRlbi5zbVxcXFw6aW5saW5lXCJcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgYWxsIHNob3J0IGxhYmVsc1xyXG4gICAgICAgICAgICBjb25zdCBzaG9ydExhYmVscyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgIFwiYnV0dG9uLmgtOS5taW4tdy1cXFxcWzM2cHhcXFxcXSBzcGFuLnNtXFxcXDpoaWRkZW5cIlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29sbGVjdCBhY3R1YWwgbGFiZWxzXHJcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbEZ1bGxMYWJlbHMgPSBBcnJheS5mcm9tKGZ1bGxMYWJlbHMpLm1hcChcclxuICAgICAgICAgICAgICAobGFiZWwpID0+IGxhYmVsLnRleHRDb250ZW50Py50cmltKCkgfHwgXCJcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCBhY3R1YWxTaG9ydExhYmVscyA9IEFycmF5LmZyb20oc2hvcnRMYWJlbHMpLm1hcChcclxuICAgICAgICAgICAgICAobGFiZWwpID0+IGxhYmVsLnRleHRDb250ZW50Py50cmltKCkgfHwgXCJcIlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gVmVyaWZ5IGFsbCBleHBlY3RlZCBsYWJlbHMgYXJlIHByZXNlbnRcclxuICAgICAgICAgICAgZXhwZWN0ZWRGdWxsTGFiZWxzLmZvckVhY2goKGV4cGVjdGVkKSA9PiB7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KGFjdHVhbEZ1bGxMYWJlbHMpLnRvQ29udGFpbihleHBlY3RlZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0ZWRTaG9ydExhYmVscy5mb3JFYWNoKChleHBlY3RlZCkgPT4ge1xyXG4gICAgICAgICAgICAgIGV4cGVjdChhY3R1YWxTaG9ydExhYmVscykudG9Db250YWluKGV4cGVjdGVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKSxcclxuICAgICAgICB7IG51bVJ1bnM6IGdldE51bVJ1bnMoXCJGQVNUXCIpIH1cclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZShcIkVkZ2UgY2FzZXNcIiwgKCkgPT4ge1xyXG4gICAgaXQoXCJzaG91bGQgbWFpbnRhaW4gbGFiZWwgc3RydWN0dXJlIGF0IGV4YWN0bHkgMzIwcHggKG1pbmltdW0gc3VwcG9ydGVkIHdpZHRoKVwiLCAoKSA9PiB7XHJcbiAgICAgIGplc3Quc2V0VGltZW91dChnZXRUaW1lb3V0KFwiU0xPV1wiKSk7XHJcbiAgICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSAzMjA7XHJcblxyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCBcImlubmVyV2lkdGhcIiwge1xyXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICB2YWx1ZTogdmlld3BvcnRXaWR0aCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyRGFzaGJvYXJkKCk7XHJcblxyXG4gICAgICBjb25zdCBwZXJpb2RCdXR0b25zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgXCJidXR0b24uaC05Lm1pbi13LVxcXFxbMzZweFxcXFxdXCJcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChwZXJpb2RCdXR0b25zLmxlbmd0aCkudG9CZSgzKTtcclxuXHJcbiAgICAgIHBlcmlvZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgLy8gU2hvdWxkIGhhdmUgYm90aCBsYWJlbCB2YXJpYW50c1xyXG4gICAgICAgIGNvbnN0IHNob3J0TGFiZWxzID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuLnNtXFxcXDpoaWRkZW5cIik7XHJcbiAgICAgICAgY29uc3QgZnVsbExhYmVscyA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yQWxsKFwic3Bhbi5oaWRkZW4uc21cXFxcOmlubGluZVwiKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHNob3J0TGFiZWxzLmxlbmd0aCkudG9CZSgxKTtcclxuICAgICAgICBleHBlY3QoZnVsbExhYmVscy5sZW5ndGgpLnRvQmUoMSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJzaG91bGQgc3dpdGNoIGxhYmVsIHZpc2liaWxpdHkgYXQgZXhhY3RseSA2NDBweCAoc20gYnJlYWtwb2ludClcIiwgKCkgPT4ge1xyXG4gICAgICBqZXN0LnNldFRpbWVvdXQoZ2V0VGltZW91dChcIlNMT1dcIikpO1xyXG4gICAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gNjQwO1xyXG5cclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJpbm5lcldpZHRoXCIsIHtcclxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgdmFsdWU6IHZpZXdwb3J0V2lkdGgsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlckRhc2hib2FyZCgpO1xyXG5cclxuICAgICAgY29uc3QgcGVyaW9kQnV0dG9ucyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgIFwiYnV0dG9uLmgtOS5taW4tdy1cXFxcWzM2cHhcXFxcXVwiXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QocGVyaW9kQnV0dG9ucy5sZW5ndGgpLnRvQmUoMyk7XHJcblxyXG4gICAgICBwZXJpb2RCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xyXG4gICAgICAgIC8vIFNob3VsZCBoYXZlIHJlc3BvbnNpdmUgY2xhc3NlcyBmb3IgbGFiZWwgc3dpdGNoaW5nXHJcbiAgICAgICAgY29uc3Qgc2hvcnRMYWJlbHMgPSBidXR0b24ucXVlcnlTZWxlY3RvckFsbChcInNwYW4uc21cXFxcOmhpZGRlblwiKTtcclxuICAgICAgICBjb25zdCBmdWxsTGFiZWxzID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuLmhpZGRlbi5zbVxcXFw6aW5saW5lXCIpO1xyXG5cclxuICAgICAgICBleHBlY3Qoc2hvcnRMYWJlbHMubGVuZ3RoKS50b0JlKDEpO1xyXG4gICAgICAgIGV4cGVjdChmdWxsTGFiZWxzLmxlbmd0aCkudG9CZSgxKTtcclxuXHJcbiAgICAgICAgLy8gVmVyaWZ5IGNsYXNzZXMgYXJlIHByZXNlbnRcclxuICAgICAgICBzaG9ydExhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4ge1xyXG4gICAgICAgICAgZXhwZWN0KGxhYmVsKS50b0hhdmVDbGFzcyhcInNtOmhpZGRlblwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVsbExhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4ge1xyXG4gICAgICAgICAgZXhwZWN0KGxhYmVsKS50b0hhdmVDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICAgIGV4cGVjdChsYWJlbCkudG9IYXZlQ2xhc3MoXCJzbTppbmxpbmVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJzaG91bGQgbWFpbnRhaW4gbGFiZWwgc3RydWN0dXJlIGF0IDYzOXB4IChqdXN0IGJlbG93IHNtIGJyZWFrcG9pbnQpXCIsICgpID0+IHtcclxuICAgICAgamVzdC5zZXRUaW1lb3V0KGdldFRpbWVvdXQoXCJTTE9XXCIpKTtcclxuICAgICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IDYzOTtcclxuXHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiaW5uZXJXaWR0aFwiLCB7XHJcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIHZhbHVlOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJEYXNoYm9hcmQoKTtcclxuXHJcbiAgICAgIGNvbnN0IHBlcmlvZEJ1dHRvbnMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICBcImJ1dHRvbi5oLTkubWluLXctXFxcXFszNnB4XFxcXF1cIlxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHBlcmlvZEJ1dHRvbnMubGVuZ3RoKS50b0JlKDMpO1xyXG5cclxuICAgICAgcGVyaW9kQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcclxuICAgICAgICBjb25zdCBzaG9ydExhYmVscyA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yQWxsKFwic3Bhbi5zbVxcXFw6aGlkZGVuXCIpO1xyXG4gICAgICAgIGNvbnN0IGZ1bGxMYWJlbHMgPSBidXR0b24ucXVlcnlTZWxlY3RvckFsbChcInNwYW4uaGlkZGVuLnNtXFxcXDppbmxpbmVcIik7XHJcblxyXG4gICAgICAgIGV4cGVjdChzaG9ydExhYmVscy5sZW5ndGgpLnRvQmUoMSk7XHJcbiAgICAgICAgZXhwZWN0KGZ1bGxMYWJlbHMubGVuZ3RoKS50b0JlKDEpO1xyXG5cclxuICAgICAgICAvLyBPbiBtb2JpbGUsIHNob3J0IGxhYmVscyBzaG91bGQgYmUgdmlzaWJsZVxyXG4gICAgICAgIHNob3J0TGFiZWxzLmZvckVhY2goKGxhYmVsKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gbGFiZWwudGV4dENvbnRlbnQ/LnRyaW0oKTtcclxuICAgICAgICAgIGV4cGVjdCh0ZXh0KS50b01hdGNoKC9eW9CU0JzQk10kLyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKFwiUmVxdWlyZW1lbnQgdmFsaWRhdGlvblwiLCAoKSA9PiB7XHJcbiAgICBpdChcInZhbGlkYXRlcyBSZXF1aXJlbWVudCAyLjU6IEFiYnJldmlhdGVkIGxhYmVscyB3aGVuIHRleHQgZG9lc24ndCBmaXRcIiwgKCkgPT4ge1xyXG4gICAgICBmYy5hc3NlcnQoXHJcbiAgICAgICAgZmMucHJvcGVydHkoXHJcbiAgICAgICAgICBmYy5pbnRlZ2VyKHsgbWluOiAzMjAsIG1heDogNjM5IH0pLFxyXG4gICAgICAgICAgKHZpZXdwb3J0V2lkdGgpID0+IHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJpbm5lcldpZHRoXCIsIHtcclxuICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgdmFsdWU6IHZpZXdwb3J0V2lkdGgsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlckRhc2hib2FyZCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVxdWlyZW1lbnQgMi41OiBXSEVOINGC0LXQutGB0YIg0L3QsCDQutC90L7Qv9C60LDRhSDQvdC1INC/0L7QvNC10YnQsNC10YLRgdGPLFxyXG4gICAgICAgICAgICAvLyBUSEUg0KHQuNGB0YLQtdC80LAgU0hBTEwg0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINGB0L7QutGA0LDRidC10L3QvdGL0LUg0LLQsNGA0LjQsNC90YLRiyDQvNC10YLQvtC6ICjQlC/QnC/QkylcclxuICAgICAgICAgICAgY29uc3QgcGVyaW9kQnV0dG9ucyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgIFwiYnV0dG9uLmgtOS5taW4tdy1cXFxcWzM2cHhcXFxcXVwiXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QocGVyaW9kQnV0dG9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuXHJcbiAgICAgICAgICAgIHBlcmlvZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gT24gbW9iaWxlIHZpZXdwb3J0cywgYWJicmV2aWF0ZWQgbGFiZWxzIHNob3VsZCBiZSBwcmVzZW50XHJcbiAgICAgICAgICAgICAgY29uc3Qgc2hvcnRMYWJlbHMgPSBidXR0b24ucXVlcnlTZWxlY3RvckFsbChcInNwYW4uc21cXFxcOmhpZGRlblwiKTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBleHBlY3Qoc2hvcnRMYWJlbHMubGVuZ3RoKS50b0JlKDEpO1xyXG5cclxuICAgICAgICAgICAgICBzaG9ydExhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGxhYmVsLnRleHRDb250ZW50Py50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBNdXN0IGJlIG9uZSBvZiB0aGUgYWJicmV2aWF0ZWQgbGFiZWxzXHJcbiAgICAgICAgICAgICAgICBleHBlY3QodGV4dCkudG9NYXRjaCgvXlvQlNCc0JNdJC8pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApLFxyXG4gICAgICAgIHsgbnVtUnVuczogZ2V0TnVtUnVucyhcIk1FRElVTVwiKSB9XHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdChcInZhbGlkYXRlcyB0aGF0IGZ1bGwgbGFiZWxzIGFyZSB1c2VkIG9uIGRlc2t0b3Agd2hlbiBzcGFjZSBpcyBhdmFpbGFibGVcIiwgKCkgPT4ge1xyXG4gICAgICBqZXN0LnNldFRpbWVvdXQoZ2V0VGltZW91dChcIlNMT1dcIikpO1xyXG4gICAgICBmYy5hc3NlcnQoXHJcbiAgICAgICAgZmMucHJvcGVydHkoXHJcbiAgICAgICAgICBmYy5pbnRlZ2VyKHsgbWluOiA2NDAsIG1heDogMTQ0MCB9KSxcclxuICAgICAgICAgICh2aWV3cG9ydFdpZHRoKSA9PiB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiaW5uZXJXaWR0aFwiLCB7XHJcbiAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJEYXNoYm9hcmQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9uIGRlc2t0b3AsIGZ1bGwgbGFiZWxzIHNob3VsZCBiZSBhdmFpbGFibGVcclxuICAgICAgICAgICAgY29uc3QgcGVyaW9kQnV0dG9ucyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgIFwiYnV0dG9uLmgtOS5taW4tdy1cXFxcWzM2cHhcXFxcXVwiXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QocGVyaW9kQnV0dG9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuXHJcbiAgICAgICAgICAgIHBlcmlvZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gRnVsbCBsYWJlbHMgc2hvdWxkIGJlIHByZXNlbnQgd2l0aCBzbTppbmxpbmUgY2xhc3NcclxuICAgICAgICAgICAgICBjb25zdCBmdWxsTGFiZWxzID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuLmhpZGRlbi5zbVxcXFw6aW5saW5lXCIpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGV4cGVjdChmdWxsTGFiZWxzLmxlbmd0aCkudG9CZSgxKTtcclxuXHJcbiAgICAgICAgICAgICAgZnVsbExhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGxhYmVsLnRleHRDb250ZW50Py50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBNdXN0IGJlIG9uZSBvZiB0aGUgZnVsbCBsYWJlbHNcclxuICAgICAgICAgICAgICAgIGV4cGVjdCh0ZXh0KS50b01hdGNoKC9eKNCU0LXQvdGMfNCc0LXRgdGP0YZ80JPQvtC0KSQvKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKSxcclxuICAgICAgICB7IG51bVJ1bnM6IGdldE51bVJ1bnMoXCJNRURJVU1cIikgfVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKFwiR2VuZXJhbCBwcm9wZXJ0eSB2YWxpZGF0aW9uXCIsICgpID0+IHtcclxuICAgIGl0KFwic2hvdWxkIHZlcmlmeSBhZGFwdGl2ZSBsYWJlbCBwYXR0ZXJuIGFjcm9zcyBhbGwgdmlld3BvcnQgc2l6ZXNcIiwgKCkgPT4ge1xyXG4gICAgICBqZXN0LnNldFRpbWVvdXQoZ2V0VGltZW91dChcIlNMT1dcIikpO1xyXG4gICAgICBmYy5hc3NlcnQoXHJcbiAgICAgICAgZmMucHJvcGVydHkoXHJcbiAgICAgICAgICBmYy5pbnRlZ2VyKHsgbWluOiAzMjAsIG1heDogMTQ0MCB9KSxcclxuICAgICAgICAgICh2aWV3cG9ydFdpZHRoKSA9PiB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiaW5uZXJXaWR0aFwiLCB7XHJcbiAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJEYXNoYm9hcmQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgYWxsIHBlcmlvZCBidXR0b25zXHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmlvZEJ1dHRvbnMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgICAgICBcImJ1dHRvbi5oLTkubWluLXctXFxcXFszNnB4XFxcXF1cIlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KHBlcmlvZEJ1dHRvbnMubGVuZ3RoKS50b0JlKDMpO1xyXG5cclxuICAgICAgICAgICAgLy8gRWFjaCBidXR0b24gbXVzdCBoYXZlIHRoZSBhZGFwdGl2ZSBsYWJlbCBwYXR0ZXJuXHJcbiAgICAgICAgICAgIHBlcmlvZEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gTXVzdCBoYXZlIGV4YWN0bHkgb25lIHNob3J0IGxhYmVsIHdpdGggc206aGlkZGVuXHJcbiAgICAgICAgICAgICAgY29uc3Qgc2hvcnRMYWJlbHMgPSBidXR0b24ucXVlcnlTZWxlY3RvckFsbChcInNwYW4uc21cXFxcOmhpZGRlblwiKTtcclxuICAgICAgICAgICAgICBleHBlY3Qoc2hvcnRMYWJlbHMubGVuZ3RoKS50b0JlKDEpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBNdXN0IGhhdmUgZXhhY3RseSBvbmUgZnVsbCBsYWJlbCB3aXRoIGhpZGRlbiBzbTppbmxpbmVcclxuICAgICAgICAgICAgICBjb25zdCBmdWxsTGFiZWxzID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuLmhpZGRlbi5zbVxcXFw6aW5saW5lXCIpO1xyXG4gICAgICAgICAgICAgIGV4cGVjdChmdWxsTGFiZWxzLmxlbmd0aCkudG9CZSgxKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU2hvcnQgbGFiZWwgbXVzdCBiZSBhYmJyZXZpYXRlZCAoMSBjaGFyYWN0ZXIpXHJcbiAgICAgICAgICAgICAgY29uc3Qgc2hvcnRUZXh0ID0gc2hvcnRMYWJlbHNbMF0udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCBcIlwiO1xyXG4gICAgICAgICAgICAgIGV4cGVjdChzaG9ydFRleHQubGVuZ3RoKS50b0JlKDEpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBGdWxsIGxhYmVsIG11c3QgYmUgbG9uZ2VyICgyKyBjaGFyYWN0ZXJzKVxyXG4gICAgICAgICAgICAgIGNvbnN0IGZ1bGxUZXh0ID0gZnVsbExhYmVsc1swXS50ZXh0Q29udGVudD8udHJpbSgpIHx8IFwiXCI7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KGZ1bGxUZXh0Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApLFxyXG4gICAgICAgIHsgbnVtUnVuczogZ2V0TnVtUnVucyhcIk1FRElVTVwiKSB9XHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdChcInNob3VsZCBlbnN1cmUgYnV0dG9uIGZ1bmN0aW9uYWxpdHkgaXMgbm90IGFmZmVjdGVkIGJ5IGxhYmVsIGFkYXB0YXRpb25cIiwgKCkgPT4ge1xyXG4gICAgICBqZXN0LnNldFRpbWVvdXQoZ2V0VGltZW91dChcIlNMT1dcIikpO1xyXG4gICAgICBmYy5hc3NlcnQoXHJcbiAgICAgICAgZmMucHJvcGVydHkoXHJcbiAgICAgICAgICBmYy5pbnRlZ2VyKHsgbWluOiAzMjAsIG1heDogMTQ0MCB9KSxcclxuICAgICAgICAgICh2aWV3cG9ydFdpZHRoKSA9PiB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiaW5uZXJXaWR0aFwiLCB7XHJcbiAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXJEYXNoYm9hcmQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgYWxsIHBlcmlvZCBidXR0b25zXHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmlvZEJ1dHRvbnMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgICAgICBcImJ1dHRvbi5oLTkubWluLXctXFxcXFszNnB4XFxcXF1cIlxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgZXhwZWN0KHBlcmlvZEJ1dHRvbnMubGVuZ3RoKS50b0JlKDMpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWxsIGJ1dHRvbnMgc2hvdWxkIGJlIGZ1bmN0aW9uYWwgKG5vdCBkaXNhYmxlZClcclxuICAgICAgICAgICAgcGVyaW9kQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcclxuICAgICAgICAgICAgICBleHBlY3QoYnV0dG9uKS5ub3QudG9CZURpc2FibGVkKCk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gU2hvdWxkIGhhdmUgcHJvcGVyIGJ1dHRvbiBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgICAgZXhwZWN0KGJ1dHRvbi50YWdOYW1lKS50b0JlKFwiQlVUVE9OXCIpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIC8vIFNob3VsZCBoYXZlIG1pbmltdW0gdG91Y2ggdGFyZ2V0IHNpemUgY2xhc3Nlc1xyXG4gICAgICAgICAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKFwiaC05XCIpO1xyXG4gICAgICAgICAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKFwibWluLXctWzM2cHhdXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApLFxyXG4gICAgICAgIHsgbnVtUnVuczogZ2V0TnVtUnVucyhcIkZBU1RcIikgfVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsicmVuZGVyRGFzaGJvYXJkIiwicmVuZGVyIiwiQXBwUHJvdmlkZXIiLCJEYXNoYm9hcmRQYWdlIiwiZGVzY3JpYmUiLCJpdCIsImplc3QiLCJzZXRUaW1lb3V0IiwiZ2V0VGltZW91dCIsImZjIiwiYXNzZXJ0IiwicHJvcGVydHkiLCJpbnRlZ2VyIiwibWluIiwibWF4Iiwidmlld3BvcnRXaWR0aCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93Iiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJ2YWx1ZSIsImNvbnRhaW5lciIsInBlcmlvZEJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXhwZWN0IiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiZm9yRWFjaCIsImJ1dHRvbiIsInNob3J0TGFiZWxzIiwiZnVsbExhYmVscyIsImxhYmVsIiwidG9IYXZlQ2xhc3MiLCJ0ZXh0IiwidGV4dENvbnRlbnQiLCJ0cmltIiwidG9NYXRjaCIsIm51bVJ1bnMiLCJnZXROdW1SdW5zIiwidG9CZSIsImxhYmVsTWFwcGluZ3MiLCJmdWxsTGFiZWwiLCJxdWVyeVNlbGVjdG9yIiwic2hvcnRMYWJlbCIsIm5vdCIsInRvQmVOdWxsIiwiZnVsbFRleHQiLCJzaG9ydFRleHQiLCJleHBlY3RlZEZ1bGxMYWJlbHMiLCJleHBlY3RlZFNob3J0TGFiZWxzIiwiYWN0dWFsRnVsbExhYmVscyIsIkFycmF5IiwiZnJvbSIsIm1hcCIsImFjdHVhbFNob3J0TGFiZWxzIiwiZXhwZWN0ZWQiLCJ0b0NvbnRhaW4iLCJ0b0JlRGlzYWJsZWQiLCJ0YWdOYW1lIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Q0FRQzs7Ozs7OERBRWlCO3dCQUNLO2tFQUNSOzZEQUNXOzRCQUNFO29DQUNXOzs7Ozs7QUFFdkMsMkRBQTJEO0FBQzNELE1BQU1BLGtCQUFrQjtJQUN0QixPQUFPQyxJQUFBQSxjQUFNLGdCQUNYLHFCQUFDQyx1QkFBVztrQkFDVixjQUFBLHFCQUFDQyxhQUFhOztBQUdwQjtBQUVBQyxTQUFTLG9DQUFvQztJQUMzQ0EsU0FBUywrQkFBK0I7UUFDdENDLEdBQUcsMkVBQTJFO1lBQzVFQyxLQUFLQyxVQUFVLENBQUNDLElBQUFBLDhCQUFVLEVBQUM7WUFDM0JDLGtCQUFFLENBQUNDLE1BQU0sQ0FDUEQsa0JBQUUsQ0FBQ0UsUUFBUSxDQUNURixrQkFBRSxDQUFDRyxPQUFPLENBQUM7Z0JBQUVDLEtBQUs7Z0JBQUtDLEtBQUs7WUFBSSxJQUNoQyxDQUFDQztnQkFDQyxvQ0FBb0M7Z0JBQ3BDQyxPQUFPQyxjQUFjLENBQUNDLFFBQVEsY0FBYztvQkFDMUNDLFVBQVU7b0JBQ1ZDLGNBQWM7b0JBQ2RDLE9BQU9OO2dCQUNUO2dCQUVBLE1BQU0sRUFBRU8sU0FBUyxFQUFFLEdBQUd0QjtnQkFFdEIsOERB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