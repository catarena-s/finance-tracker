{"version":3,"names":["cov_vgyl2n5ie","actualCoverage","s","recurringTransactionsApi","toCreatePayload","data","f","payload","name","amount","currency","b","category_id","categoryId","description","type","frequency","interval","start_date","startDate","endDate","end_date","toUpdatePayload","undefined","isActive","is_active","getAll","skip","limit","res","_client","apiClient","get","params","getById","id","create","post","update","put","delete"],"sources":["E:\\my\\otus\\finance_tracker\\frontend\\src\\services\\api\\recurringTransactions.ts"],"sourcesContent":["import { apiClient } from \"./client\";\nimport type { RecurringTransaction, RecurringTransactionCreate } from \"@/types/api\";\n\nexport interface RecurringTransactionUpdate {\n  name?: string;\n  amount?: number;\n  currency?: string;\n  categoryId?: string;\n  description?: string;\n  type?: \"income\" | \"expense\";\n  frequency?: \"daily\" | \"weekly\" | \"monthly\" | \"yearly\";\n  interval?: number;\n  startDate?: string;\n  endDate?: string | null;\n  isActive?: boolean;\n}\n\n/** Тело запроса в формате бэкенда (snake_case) */\nfunction toCreatePayload(data: RecurringTransactionCreate): Record<string, unknown> {\n  const payload: Record<string, unknown> = {\n    name: data.name,\n    amount: data.amount,\n    currency: data.currency ?? \"USD\",\n    category_id: data.categoryId,\n    description: data.description ?? null,\n    type: data.type,\n    frequency: data.frequency,\n    interval: data.interval,\n    start_date: data.startDate,\n  };\n  if (data.endDate != null && data.endDate !== \"\") {\n    payload.end_date = data.endDate;\n  }\n  return payload;\n}\n\nfunction toUpdatePayload(data: RecurringTransactionUpdate): Record<string, unknown> {\n  const payload: Record<string, unknown> = {};\n  if (data.name !== undefined) payload.name = data.name;\n  if (data.amount !== undefined) payload.amount = data.amount;\n  if (data.currency !== undefined) payload.currency = data.currency;\n  if (data.categoryId !== undefined) payload.category_id = data.categoryId;\n  if (data.description !== undefined) payload.description = data.description;\n  if (data.type !== undefined) payload.type = data.type;\n  if (data.frequency !== undefined) payload.frequency = data.frequency;\n  if (data.interval !== undefined) payload.interval = data.interval;\n  if (data.startDate !== undefined) payload.start_date = data.startDate;\n  if (data.endDate !== undefined) payload.end_date = data.endDate || null;\n  if (data.isActive !== undefined) payload.is_active = data.isActive;\n  return payload;\n}\n\nexport const recurringTransactionsApi = {\n  async getAll(skip = 0, limit = 100): Promise<RecurringTransaction[]> {\n    const res = await apiClient.get<RecurringTransaction[]>(\n      \"/recurring-transactions/\",\n      { params: { skip, limit } }\n    );\n    return res.data;\n  },\n\n  async getById(id: string): Promise<RecurringTransaction> {\n    const res = await apiClient.get<RecurringTransaction>(\n      `/recurring-transactions/${id}`\n    );\n    return res.data;\n  },\n\n  async create(data: RecurringTransactionCreate): Promise<RecurringTransaction> {\n    const payload = toCreatePayload(data);\n    const res = await apiClient.post<RecurringTransaction>(\n      \"/recurring-transactions/\",\n      payload\n    );\n    return res.data;\n  },\n\n  async update(\n    id: string,\n    data: RecurringTransactionUpdate\n  ): Promise<RecurringTransaction> {\n    const payload = toUpdatePayload(data);\n    const res = await apiClient.put<RecurringTransaction>(\n      `/recurring-transactions/${id}`,\n      payload\n    );\n    return res.data;\n  },\n\n  async delete(id: string): Promise<void> {\n    await apiClient.delete(`/recurring-transactions/${id}`);\n  },\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}