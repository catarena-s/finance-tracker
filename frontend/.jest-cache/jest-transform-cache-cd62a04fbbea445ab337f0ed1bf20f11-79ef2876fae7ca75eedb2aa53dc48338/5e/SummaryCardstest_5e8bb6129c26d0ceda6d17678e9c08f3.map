{"version":3,"sources":["E:\\my\\otus\\finance_tracker\\frontend\\__tests__\\components\\SummaryCards.test.tsx"],"sourcesContent":["/**\r\n * Unit tests — SummaryCards\r\n * Рендер сводки, блок «По валютам» (byCurrency).\r\n */\r\nimport React from \"react\";\r\nimport { render, screen } from \"@testing-library/react\";\r\nimport { SummaryCards } from \"@/components/dashboard/SummaryCards\";\r\n\r\ndescribe(\"SummaryCards\", () => {\r\n  it(\"renders total income, expense and balance\", () => {\r\n    render(\r\n      <SummaryCards\r\n        totalIncome={1000}\r\n        totalExpense={300}\r\n        balance={700}\r\n      />\r\n    );\r\n    expect(screen.getByText(\"Доходы\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"Расходы\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"Баланс\")).toBeInTheDocument();\r\n  });\r\n\r\n  it(\"renders byCurrency breakdown when multiple currencies are provided\", () => {\r\n    render(\r\n      <SummaryCards\r\n        totalIncome={1000}\r\n        totalExpense={300}\r\n        balance={700}\r\n        byCurrency={[\r\n          { currency: \"USD\", totalIncome: 500, totalExpense: 200, balance: 300 },\r\n          { currency: \"EUR\", totalIncome: 500, totalExpense: 100, balance: 400 },\r\n        ]}\r\n      />\r\n    );\r\n    // Проверяем что валюты отображаются в карточках\r\n    const usdElements = screen.getAllByText(/USD/);\r\n    const eurElements = screen.getAllByText(/EUR/);\r\n    expect(usdElements.length).toBeGreaterThan(0);\r\n    expect(eurElements.length).toBeGreaterThan(0);\r\n  });\r\n\r\n  it(\"does not render byCurrency breakdown when only one currency\", () => {\r\n    render(\r\n      <SummaryCards\r\n        totalIncome={1000}\r\n        totalExpense={300}\r\n        balance={700}\r\n        byCurrency={[\r\n          { currency: \"RUB\", totalIncome: 1000, totalExpense: 300, balance: 700 },\r\n        ]}\r\n      />\r\n    );\r\n    // Когда только одна валюта, разбивка не отображается\r\n    expect(screen.queryByText(/RUB:/)).not.toBeInTheDocument();\r\n  });\r\n\r\n  it(\"shows loading state when loading is true\", () => {\r\n    const { container } = render(\r\n      <SummaryCards\r\n        totalIncome={0}\r\n        totalExpense={0}\r\n        balance={0}\r\n        loading\r\n      />\r\n    );\r\n    expect(container.querySelector('[role=\"status\"]')).toBeInTheDocument();\r\n  });\r\n});\r\n"],"names":["describe","it","render","SummaryCards","totalIncome","totalExpense","balance","expect","screen","getByText","toBeInTheDocument","byCurrency","currency","usdElements","getAllByText","eurElements","length","toBeGreaterThan","queryByText","not","container","loading","querySelector"],"mappings":"AAAA;;;CAGC;;;;;8DACiB;wBACa;8BACF;;;;;;AAE7BA,SAAS,gBAAgB;IACvBC,GAAG,6CAA6C;QAC9CC,IAAAA,cAAM,gBACJ,qBAACC,0BAAY;YACXC,aAAa;YACbC,cAAc;YACdC,SAAS;;QAGbC,OAAOC,cAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;QACpDH,OAAOC,cAAM,CAACC,SAAS,CAAC,YAAYC,iBAAiB;QACrDH,OAAOC,cAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;IACtD;IAEAT,GAAG,sEAAsE;QACvEC,IAAAA,cAAM,gBACJ,qBAACC,0BAAY;YACXC,aAAa;YACbC,cAAc;YACdC,SAAS;YACTK,YAAY;gBACV;oBAAEC,UAAU;oBAAOR,aAAa;oBAAKC,cAAc;oBAAKC,SAAS;gBAAI;gBACrE;oBAAEM,UAAU;oBAAOR,aAAa;oBAAKC,cAAc;oBAAKC,SAAS;gBAAI;aACtE;;QAGL,gDAAgD;QAChD,MAAMO,cAAcL,cAAM,CAACM,YAAY,CAAC;QACxC,MAAMC,cAAcP,cAAM,CAACM,YAAY,CAAC;QACxCP,OAAOM,YAAYG,MAAM,EAAEC,eAAe,CAAC;QAC3CV,OAAOQ,YAAYC,MAAM,EAAEC,eAAe,CAAC;IAC7C;IAEAhB,GAAG,+DAA+D;QAChEC,IAAAA,cAAM,gBACJ,qBAACC,0BAAY;YACXC,aAAa;YACbC,cAAc;YACdC,SAAS;YACTK,YAAY;gBACV;oBAAEC,UAAU;oBAAOR,aAAa;oBAAMC,cAAc;oBAAKC,SAAS;gBAAI;aACvE;;QAGL,qDAAqD;QACrDC,OAAOC,cAAM,CAACU,WAAW,CAAC,SAASC,GAAG,CAACT,iBAAiB;IAC1D;IAEAT,GAAG,4CAA4C;QAC7C,MAAM,EAAEmB,SAAS,EAAE,GAAGlB,IAAAA,cAAM,gBAC1B,qBAACC,0BAAY;YACXC,aAAa;YACbC,cAAc;YACdC,SAAS;YACTe,OAAO;;QAGXd,OAAOa,UAAUE,aAAa,CAAC,oBAAoBZ,iBAAiB;IACtE;AACF"}