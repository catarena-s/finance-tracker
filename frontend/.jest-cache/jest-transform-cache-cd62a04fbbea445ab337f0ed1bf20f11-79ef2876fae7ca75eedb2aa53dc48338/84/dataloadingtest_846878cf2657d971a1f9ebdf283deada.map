{"version":3,"sources":["E:\\my\\otus\\finance_tracker\\frontend\\__tests__\\integration\\data-loading.test.tsx"],"sourcesContent":["/**\r\n * Integration Tests - Data Loading\r\n * \r\n * Tests data loading on Dashboard and Budgets pages:\r\n * - Dashboard analytics data loading\r\n * - Budget page data loading with category mapping\r\n * - Error handling during data loading\r\n * - Loading states\r\n */\r\n\r\nimport React from 'react';\r\nimport { render, screen, waitFor } from '@testing-library/react';\r\nimport { AppProvider, useApp } from '@/contexts/AppContext';\r\nimport { analyticsApi } from '@/services/api/analytics';\r\nimport { categoryApi } from '@/services/api/categories';\r\nimport { budgetApi } from '@/services/api/budgets';\r\n\r\n// Mock the API modules\r\njest.mock('@/services/api/analytics');\r\njest.mock('@/services/api/categories');\r\njest.mock('@/services/api/budgets');\r\njest.mock('@/services/api/transactions');\r\n\r\nconst mockAnalyticsApi = analyticsApi as jest.Mocked<typeof analyticsApi>;\r\nconst mockCategoryApi = categoryApi as jest.Mocked<typeof categoryApi>;\r\nconst mockBudgetApi = budgetApi as jest.Mocked<typeof budgetApi>;\r\n\r\ndescribe('Integration Tests - Data Loading', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  describe('Dashboard Data Loading', () => {\r\n    it('should load summary data successfully', async () => {\r\n      const mockSummary = {\r\n        totalIncome: 5000.00,\r\n        totalExpense: 3000.00,\r\n        balance: 2000.00,\r\n        transactionCount: 25,\r\n      };\r\n\r\n      mockAnalyticsApi.getSummary.mockResolvedValue(mockSummary);\r\n\r\n      function TestDashboard() {\r\n        const { loadSummary, summary, loading } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadSummary();\r\n        }, []);\r\n\r\n        return (\r\n          <div>\r\n            <div data-testid=\"loading\">{loading ? 'loading' : 'idle'}</div>\r\n            <div data-testid=\"total-income\">{summary?.totalIncome || 0}</div>\r\n            <div data-testid=\"total-expenses\">{summary?.totalExpense || 0}</div>\r\n            <div data-testid=\"balance\">{summary?.balance || 0}</div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestDashboard />\r\n        </AppProvider>\r\n      );\r\n\r\n      // Verify loading state\r\n      expect(screen.getByTestId('loading')).toHaveTextContent('loading');\r\n\r\n      // Wait for data to load\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('loading')).toHaveTextContent('idle');\r\n        expect(screen.getByTestId('total-income')).toHaveTextContent('5000');\r\n        expect(screen.getByTestId('total-expenses')).toHaveTextContent('3000');\r\n        expect(screen.getByTestId('balance')).toHaveTextContent('2000');\r\n      });\r\n\r\n      expect(mockAnalyticsApi.getSummary).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('should load trends data successfully', async () => {\r\n      const mockTrends = [\r\n        { date: '2024-01', income: 5000, expense: 3000 },\r\n        { date: '2024-02', income: 5500, expense: 3200 },\r\n        { date: '2024-03', income: 6000, expense: 3500 },\r\n      ];\r\n\r\n      mockAnalyticsApi.getTrends.mockResolvedValue(mockTrends);\r\n\r\n      function TestDashboard() {\r\n        const { loadTrends, trends, loading } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadTrends();\r\n        }, []);\r\n\r\n        return (\r\n          <div>\r\n            <div data-testid=\"loading\">{loading ? 'loading' : 'idle'}</div>\r\n            <div data-testid=\"trends-count\">{trends?.length || 0}</div>\r\n            {trends?.map((trend, index) => (\r\n              <div key={index} data-testid={`trend-${index}`}>\r\n                {trend.date}: Income {trend.income}, Expense {trend.expense}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestDashboard />\r\n        </AppProvider>\r\n      );\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('loading')).toHaveTextContent('idle');\r\n        expect(screen.getByTestId('trends-count')).toHaveTextContent('3');\r\n      });\r\n\r\n      // Verify trend data\r\n      expect(screen.getByTestId('trend-0')).toHaveTextContent('2024-01: Income 5000, Expense 3000');\r\n      expect(screen.getByTestId('trend-1')).toHaveTextContent('2024-02: Income 5500, Expense 3200');\r\n      expect(screen.getByTestId('trend-2')).toHaveTextContent('2024-03: Income 6000, Expense 3500');\r\n\r\n      expect(mockAnalyticsApi.getTrends).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('should load top categories data successfully', async () => {\r\n      const mockTopCategories = [\r\n        {\r\n          categoryId: 'cat-1',\r\n          categoryName: '–ü—Ä–æ–¥—É–∫—Ç—ã',\r\n          categoryColor: '#FF5733',\r\n          totalAmount: 1500.00,\r\n          transactionCount: 10,\r\n          percentage: 50.0,\r\n        },\r\n        {\r\n          categoryId: 'cat-2',\r\n          categoryName: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',\r\n          categoryColor: '#3498db',\r\n          totalAmount: 800.00,\r\n          transactionCount: 5,\r\n          percentage: 26.7,\r\n        },\r\n        {\r\n          categoryId: 'cat-3',\r\n          categoryName: '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',\r\n          categoryColor: '#9b59b6',\r\n          totalAmount: 700.00,\r\n          transactionCount: 8,\r\n          percentage: 23.3,\r\n        },\r\n      ];\r\n\r\n      mockAnalyticsApi.getTopCategories.mockResolvedValue(mockTopCategories);\r\n\r\n      function TestDashboard() {\r\n        const { loadTopCategories, topCategories, loading } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadTopCategories();\r\n        }, []);\r\n\r\n        return (\r\n          <div>\r\n            <div data-testid=\"loading\">{loading ? 'loading' : 'idle'}</div>\r\n            <div data-testid=\"categories-count\">{topCategories?.length || 0}</div>\r\n            {topCategories?.map((category, index) => (\r\n              <div key={index} data-testid={`category-${index}`}>\r\n                {category.categoryName}: {category.totalAmount} ({category.percentage}%)\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestDashboard />\r\n        </AppProvider>\r\n      );\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('loading')).toHaveTextContent('idle');\r\n        expect(screen.getByTestId('categories-count')).toHaveTextContent('3');\r\n      });\r\n\r\n      // Verify category data\r\n      expect(screen.getByTestId('category-0')).toHaveTextContent('–ü—Ä–æ–¥—É–∫—Ç—ã: 1500 (50%)');\r\n      expect(screen.getByTestId('category-1')).toHaveTextContent('–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: 800 (26.7%)');\r\n      expect(screen.getByTestId('category-2')).toHaveTextContent('–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è: 700 (23.3%)');\r\n\r\n      expect(mockAnalyticsApi.getTopCategories).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('should load all dashboard data concurrently', async () => {\r\n      const mockSummary = {\r\n        totalIncome: 5000.00,\r\n        totalExpense: 3000.00,\r\n        balance: 2000.00,\r\n        transactionCount: 25,\r\n      };\r\n\r\n      const mockTrends = [\r\n        { date: '2024-01', income: 5000, expense: 3000 },\r\n      ];\r\n\r\n      const mockTopCategories = [\r\n        {\r\n          categoryId: 'cat-1',\r\n          categoryName: '–ü—Ä–æ–¥—É–∫—Ç—ã',\r\n          categoryColor: '#FF5733',\r\n          totalAmount: 1500.00,\r\n          transactionCount: 10,\r\n          percentage: 50.0,\r\n        },\r\n      ];\r\n\r\n      mockAnalyticsApi.getSummary.mockResolvedValue(mockSummary);\r\n      mockAnalyticsApi.getTrends.mockResolvedValue(mockTrends);\r\n      mockAnalyticsApi.getTopCategories.mockResolvedValue(mockTopCategories);\r\n\r\n      function TestDashboard() {\r\n        const { loadSummary, loadTrends, loadTopCategories, summary, trends, topCategories } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadSummary();\r\n          loadTrends();\r\n          loadTopCategories();\r\n        }, []);\r\n\r\n        return (\r\n          <div>\r\n            <div data-testid=\"summary-loaded\">{summary ? 'yes' : 'no'}</div>\r\n            <div data-testid=\"trends-loaded\">{trends ? 'yes' : 'no'}</div>\r\n            <div data-testid=\"categories-loaded\">{topCategories ? 'yes' : 'no'}</div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestDashboard />\r\n        </AppProvider>\r\n      );\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('summary-loaded')).toHaveTextContent('yes');\r\n        expect(screen.getByTestId('trends-loaded')).toHaveTextContent('yes');\r\n        expect(screen.getByTestId('categories-loaded')).toHaveTextContent('yes');\r\n      });\r\n\r\n      // Verify all APIs were called\r\n      expect(mockAnalyticsApi.getSummary).toHaveBeenCalledTimes(1);\r\n      expect(mockAnalyticsApi.getTrends).toHaveBeenCalledTimes(1);\r\n      expect(mockAnalyticsApi.getTopCategories).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('should handle dashboard data loading errors', async () => {\r\n      mockAnalyticsApi.getSummary.mockRejectedValue(new Error('Failed to load summary'));\r\n\r\n      function TestDashboard() {\r\n        const { loadSummary, error, loading } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadSummary().catch(() => {});\r\n        }, []);\r\n\r\n        return (\r\n          <div>\r\n            <div data-testid=\"loading\">{loading ? 'loading' : 'idle'}</div>\r\n            <div data-testid=\"error\">{error || 'none'}</div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestDashboard />\r\n        </AppProvider>\r\n      );\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('loading')).toHaveTextContent('idle');\r\n        expect(screen.getByTestId('error')).toHaveTextContent('Failed to load summary');\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Budget Page Data Loading', () => {\r\n    it('should load budgets and categories successfully', async () => {\r\n      const mockCategories = [\r\n        {\r\n          id: 'cat-1',\r\n          name: '–ü—Ä–æ–¥—É–∫—Ç—ã',\r\n          type: 'expense' as const,\r\n          color: '#FF5733',\r\n          icon: 'üõí',\r\n          createdAt: '2024-01-01T00:00:00Z',\r\n          updatedAt: '2024-01-01T00:00:00Z',\r\n        },\r\n        {\r\n          id: 'cat-2',\r\n          name: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',\r\n          type: 'expense' as const,\r\n          color: '#3498db',\r\n          icon: 'üöó',\r\n          createdAt: '2024-01-01T00:00:00Z',\r\n          updatedAt: '2024-01-01T00:00:00Z',\r\n        },\r\n      ];\r\n\r\n      const mockBudgets = [\r\n        {\r\n          id: 'budget-1',\r\n          categoryId: 'cat-1',\r\n          amount: 15000.00,\r\n          currency: 'RUB',\r\n          period: 'monthly' as const,\r\n          startDate: '2024-02-01',\r\n          endDate: '2024-02-29',\r\n          createdAt: '2024-02-01T00:00:00Z',\r\n          updatedAt: '2024-02-01T00:00:00Z',\r\n        },\r\n        {\r\n          id: 'budget-2',\r\n          categoryId: 'cat-2',\r\n          amount: 5000.00,\r\n          currency: 'RUB',\r\n          period: 'monthly' as const,\r\n          startDate: '2024-02-01',\r\n          endDate: '2024-02-29',\r\n          createdAt: '2024-02-01T00:00:00Z',\r\n          updatedAt: '2024-02-01T00:00:00Z',\r\n        },\r\n      ];\r\n\r\n      mockCategoryApi.getAll.mockResolvedValue(mockCategories);\r\n      mockBudgetApi.getAll.mockResolvedValue(mockBudgets);\r\n\r\n      function TestBudgetPage() {\r\n        const { loadCategories, loadBudgets, categories, budgets, loading } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadCategories();\r\n          loadBudgets();\r\n        }, []);\r\n\r\n        return (\r\n          <div>\r\n            <div data-testid=\"loading\">{loading ? 'loading' : 'idle'}</div>\r\n            <div data-testid=\"categories-count\">{categories.length}</div>\r\n            <div data-testid=\"budgets-count\">{budgets.length}</div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestBudgetPage />\r\n        </AppProvider>\r\n      );\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('loading')).toHaveTextContent('idle');\r\n        expect(screen.getByTestId('categories-count')).toHaveTextContent('2');\r\n        expect(screen.getByTestId('budgets-count')).toHaveTextContent('2');\r\n      });\r\n\r\n      expect(mockCategoryApi.getAll).toHaveBeenCalledTimes(1);\r\n      expect(mockBudgetApi.getAll).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('should map category names to budgets correctly', async () => {\r\n      const mockCategories = [\r\n        {\r\n          id: 'cat-1',\r\n          name: '–ü—Ä–æ–¥—É–∫—Ç—ã',\r\n          type: 'expense' as const,\r\n          color: '#FF5733',\r\n          icon: 'üõí',\r\n          createdAt: '2024-01-01T00:00:00Z',\r\n          updatedAt: '2024-01-01T00:00:00Z',\r\n        },\r\n        {\r\n          id: 'cat-2',\r\n          name: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',\r\n          type: 'expense' as const,\r\n          color: '#3498db',\r\n          icon: 'üöó',\r\n          createdAt: '2024-01-01T00:00:00Z',\r\n          updatedAt: '2024-01-01T00:00:00Z',\r\n        },\r\n      ];\r\n\r\n      const mockBudgets = [\r\n        {\r\n          id: 'budget-1',\r\n          categoryId: 'cat-1',\r\n          amount: 15000.00,\r\n          currency: 'RUB',\r\n          period: 'monthly' as const,\r\n          startDate: '2024-02-01',\r\n          endDate: '2024-02-29',\r\n          createdAt: '2024-02-01T00:00:00Z',\r\n          updatedAt: '2024-02-01T00:00:00Z',\r\n        },\r\n        {\r\n          id: 'budget-2',\r\n          categoryId: 'cat-2',\r\n          amount: 5000.00,\r\n          currency: 'RUB',\r\n          period: 'monthly' as const,\r\n          startDate: '2024-02-01',\r\n          endDate: '2024-02-29',\r\n          createdAt: '2024-02-01T00:00:00Z',\r\n          updatedAt: '2024-02-01T00:00:00Z',\r\n        },\r\n      ];\r\n\r\n      mockCategoryApi.getAll.mockResolvedValue(mockCategories);\r\n      mockBudgetApi.getAll.mockResolvedValue(mockBudgets);\r\n\r\n      function TestBudgetPage() {\r\n        const { loadCategories, loadBudgets, categories, budgets } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadCategories();\r\n          loadBudgets();\r\n        }, []);\r\n\r\n        // Map budgets to categories (simulating BudgetList component logic)\r\n        const budgetsWithCategories = budgets.map((budget) => {\r\n          const category = categories.find((c) => c.id === budget.categoryId);\r\n          return {\r\n            ...budget,\r\n            categoryName: category?.name || budget.categoryId,\r\n            categoryColor: category?.color || '#000000',\r\n          };\r\n        });\r\n\r\n        return (\r\n          <div>\r\n            <div data-testid=\"budgets-count\">{budgetsWithCategories.length}</div>\r\n            {budgetsWithCategories.map((budget, index) => (\r\n              <div key={budget.id} data-testid={`budget-${index}`}>\r\n                {budget.categoryName}: {budget.amount}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestBudgetPage />\r\n        </AppProvider>\r\n      );\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('budgets-count')).toHaveTextContent('2');\r\n      });\r\n\r\n      // Verify category names are mapped correctly\r\n      expect(screen.getByTestId('budget-0')).toHaveTextContent('–ü—Ä–æ–¥—É–∫—Ç—ã: 15000');\r\n      expect(screen.getByTestId('budget-1')).toHaveTextContent('–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: 5000');\r\n    });\r\n\r\n    it('should handle missing category gracefully', async () => {\r\n      const mockCategories = [\r\n        {\r\n          id: 'cat-1',\r\n          name: '–ü—Ä–æ–¥—É–∫—Ç—ã',\r\n          type: 'expense' as const,\r\n          color: '#FF5733',\r\n          icon: 'üõí',\r\n          createdAt: '2024-01-01T00:00:00Z',\r\n          updatedAt: '2024-01-01T00:00:00Z',\r\n        },\r\n      ];\r\n\r\n      const mockBudgets = [\r\n        {\r\n          id: 'budget-1',\r\n          categoryId: 'cat-1',\r\n          amount: 15000.00,\r\n          currency: 'RUB',\r\n          period: 'monthly' as const,\r\n          startDate: '2024-02-01',\r\n          endDate: '2024-02-29',\r\n          createdAt: '2024-02-01T00:00:00Z',\r\n          updatedAt: '2024-02-01T00:00:00Z',\r\n        },\r\n        {\r\n          id: 'budget-2',\r\n          categoryId: 'cat-999', // Category doesn't exist\r\n          amount: 5000.00,\r\n          currency: 'RUB',\r\n          period: 'monthly' as const,\r\n          startDate: '2024-02-01',\r\n          endDate: '2024-02-29',\r\n          createdAt: '2024-02-01T00:00:00Z',\r\n          updatedAt: '2024-02-01T00:00:00Z',\r\n        },\r\n      ];\r\n\r\n      mockCategoryApi.getAll.mockResolvedValue(mockCategories);\r\n      mockBudgetApi.getAll.mockResolvedValue(mockBudgets);\r\n\r\n      function TestBudgetPage() {\r\n        const { loadCategories, loadBudgets, categories, budgets } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadCategories();\r\n          loadBudgets();\r\n        }, []);\r\n\r\n        const budgetsWithCategories = budgets.map((budget) => {\r\n          const category = categories.find((c) => c.id === budget.categoryId);\r\n          return {\r\n            ...budget,\r\n            categoryName: category?.name || budget.categoryId,\r\n          };\r\n        });\r\n\r\n        return (\r\n          <div>\r\n            {budgetsWithCategories.map((budget, index) => (\r\n              <div key={budget.id} data-testid={`budget-${index}`}>\r\n                {budget.categoryName}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestBudgetPage />\r\n        </AppProvider>\r\n      );\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('budget-0')).toHaveTextContent('–ü—Ä–æ–¥—É–∫—Ç—ã');\r\n        // Should fallback to categoryId when category not found\r\n        expect(screen.getByTestId('budget-1')).toHaveTextContent('cat-999');\r\n      });\r\n    });\r\n\r\n    it('should handle budget page data loading errors', async () => {\r\n      mockCategoryApi.getAll.mockRejectedValue(new Error('Failed to load categories'));\r\n      mockBudgetApi.getAll.mockResolvedValue([]);\r\n\r\n      function TestBudgetPage() {\r\n        const { loadCategories, loadBudgets, error, loading } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadCategories().catch(() => {});\r\n          loadBudgets();\r\n        }, []);\r\n\r\n        return (\r\n          <div>\r\n            <div data-testid=\"loading\">{loading ? 'loading' : 'idle'}</div>\r\n            <div data-testid=\"error\">{error || 'none'}</div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestBudgetPage />\r\n        </AppProvider>\r\n      );\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('error')).toHaveTextContent('Failed to load categories');\r\n      });\r\n    });\r\n\r\n    it('should display empty state when no budgets exist', async () => {\r\n      mockCategoryApi.getAll.mockResolvedValue([]);\r\n      mockBudgetApi.getAll.mockResolvedValue([]);\r\n\r\n      function TestBudgetPage() {\r\n        const { loadCategories, loadBudgets, budgets, loading } = useApp();\r\n\r\n        React.useEffect(() => {\r\n          loadCategories();\r\n          loadBudgets();\r\n        }, []);\r\n\r\n        return (\r\n          <div>\r\n            <div data-testid=\"loading\">{loading ? 'loading' : 'idle'}</div>\r\n            <div data-testid=\"budgets-count\">{budgets.length}</div>\r\n            {budgets.length === 0 && <div data-testid=\"empty-state\">–ù–µ—Ç –±—é–¥–∂–µ—Ç–æ–≤</div>}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      render(\r\n        <AppProvider>\r\n          <TestBudgetPage />\r\n        </AppProvider>\r\n      );\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('loading')).toHaveTextContent('idle');\r\n        expect(screen.getByTestId('budgets-count')).toHaveTextContent('0');\r\n        expect(screen.getByTestId('empty-state')).toHaveTextContent('–ù–µ—Ç –±—é–¥–∂–µ—Ç–æ–≤');\r\n      });\r\n    });\r\n  });\r\n});\r\n\r\n\r\n"],"names":["jest","mock","mockAnalyticsApi","analyticsApi","mockCategoryApi","categoryApi","mockBudgetApi","budgetApi","describe","beforeEach","clearAllMocks","it","mockSummary","totalIncome","totalExpense","balance","transactionCount","getSummary","mockResolvedValue","TestDashboard","loadSummary","summary","loading","useApp","React","useEffect","div","data-testid","render","AppProvider","expect","screen","getByTestId","toHaveTextContent","waitFor","toHaveBeenCalledTimes","mockTrends","date","income","expense","getTrends","loadTrends","trends","length","map","trend","index","mockTopCategories","categoryId","categoryName","categoryColor","totalAmount","percentage","getTopCategories","loadTopCategories","topCategories","category","mockRejectedValue","Error","error","catch","mockCategories","id","name","type","color","icon","createdAt","updatedAt","mockBudgets","amount","currency","period","startDate","endDate","getAll","TestBudgetPage","loadCategories","loadBudgets","categories","budgets","budgetsWithCategories","budget","find","c"],"mappings":"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"}