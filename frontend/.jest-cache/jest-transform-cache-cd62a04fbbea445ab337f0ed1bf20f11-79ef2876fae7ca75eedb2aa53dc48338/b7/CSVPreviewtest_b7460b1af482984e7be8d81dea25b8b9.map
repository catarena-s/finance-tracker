{"version":3,"sources":["E:\\my\\otus\\finance_tracker\\frontend\\__tests__\\components\\CSVPreview.test.tsx"],"sourcesContent":["/**\r\n * Unit tests — CSVPreview\r\n * Рендер таблицы по строкам и маппингу колонок.\r\n */\r\nimport React from \"react\";\r\nimport { render, screen } from \"@testing-library/react\";\r\nimport { CSVPreview } from \"@/components/csv/CSVPreview\";\r\n\r\nconst rows = [\r\n  { amount: \"100\", date: \"2024-01-01\", type: \"expense\", category: \"Food\" },\r\n  { amount: \"50\", date: \"2024-01-02\", type: \"income\", category: \"Salary\" },\r\n];\r\nconst mapping = {\r\n  amount: \"amount\",\r\n  transactionDate: \"date\",\r\n  type: \"type\",\r\n  categoryName: \"category\",\r\n};\r\n\r\ndescribe(\"CSVPreview\", () => {\r\n  it(\"renders header and data rows\", () => {\r\n    render(<CSVPreview rows={rows} mapping={mapping} />);\r\n    expect(screen.getByText(\"amount\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"date\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"100\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"Food\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"Salary\")).toBeInTheDocument();\r\n  });\r\n\r\n  it(\"shows message when no rows\", () => {\r\n    render(<CSVPreview rows={[]} mapping={mapping} />);\r\n    expect(screen.getByText(/Нет данных для предпросмотра/)).toBeInTheDocument();\r\n  });\r\n\r\n  it(\"limits rows to maxRows\", () => {\r\n    const manyRows = Array.from({ length: 15 }, (_, i) => ({\r\n      amount: String(i),\r\n      date: \"2024-01-01\",\r\n      type: \"expense\",\r\n      category: \"Cat\",\r\n    }));\r\n    render(<CSVPreview rows={manyRows} mapping={mapping} maxRows={5} />);\r\n    expect(screen.getByText(/Показаны первые 5 из 15/)).toBeInTheDocument();\r\n  });\r\n});\r\n"],"names":["rows","amount","date","type","category","mapping","transactionDate","categoryName","describe","it","render","CSVPreview","expect","screen","getByText","toBeInTheDocument","manyRows","Array","from","length","_","i","String","maxRows"],"mappings":"AAAA;;;CAGC;;;;;8DACiB;wBACa;4BACJ;;;;;;AAE3B,MAAMA,OAAO;IACX;QAAEC,QAAQ;QAAOC,MAAM;QAAcC,MAAM;QAAWC,UAAU;IAAO;IACvE;QAAEH,QAAQ;QAAMC,MAAM;QAAcC,MAAM;QAAUC,UAAU;IAAS;CACxE;AACD,MAAMC,UAAU;IACdJ,QAAQ;IACRK,iBAAiB;IACjBH,MAAM;IACNI,cAAc;AAChB;AAEAC,SAAS,cAAc;IACrBC,GAAG,gCAAgC;QACjCC,IAAAA,cAAM,gBAAC,qBAACC,sBAAU;YAACX,MAAMA;YAAMK,SAASA;;QACxCO,OAAOC,cAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;QACpDH,OAAOC,cAAM,CAACC,SAAS,CAAC,SAASC,iBAAiB;QAClDH,OAAOC,cAAM,CAACC,SAAS,CAAC,QAAQC,iBAAiB;QACjDH,OAAOC,cAAM,CAACC,SAAS,CAAC,SAASC,iBAAiB;QAClDH,OAAOC,cAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;IACtD;IAEAN,GAAG,8BAA8B;QAC/BC,IAAAA,cAAM,gBAAC,qBAACC,sBAAU;YAACX,MAAM,EAAE;YAAEK,SAASA;;QACtCO,OAAOC,cAAM,CAACC,SAAS,CAAC,iCAAiCC,iBAAiB;IAC5E;IAEAN,GAAG,0BAA0B;QAC3B,MAAMO,WAAWC,MAAMC,IAAI,CAAC;YAAEC,QAAQ;QAAG,GAAG,CAACC,GAAGC,IAAO,CAAA;gBACrDpB,QAAQqB,OAAOD;gBACfnB,MAAM;gBACNC,MAAM;gBACNC,UAAU;YACZ,CAAA;QACAM,IAAAA,cAAM,gBAAC,qBAACC,sBAAU;YAACX,MAAMgB;YAAUX,SAASA;YAASkB,SAAS;;QAC9DX,OAAOC,cAAM,CAACC,SAAS,CAAC,4BAA4BC,iBAAiB;IACvE;AACF"}