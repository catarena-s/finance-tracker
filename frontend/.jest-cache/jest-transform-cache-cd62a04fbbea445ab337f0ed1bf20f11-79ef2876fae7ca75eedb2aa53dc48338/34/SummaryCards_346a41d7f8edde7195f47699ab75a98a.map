{"version":3,"names":["SummaryCards","totalIncome","totalExpense","balance","displayCurrency","cov_momst9yp6","b","byCurrency","currencyRates","loading","f","s","formatAmount","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","_jsxruntime","jsx","className","role","Array","map","_","index","_card","Card","jsxs","CardContent","_Skeleton","Skeleton","Fragment","length","item","parseFloat","toString","_lucidereact","TrendingUp","TrendingDown","Wallet","Object","entries","filter","some","bc","rate","_react","default","toFixed"],"sources":["E:\\my\\otus\\finance_tracker\\frontend\\src\\components\\dashboard\\SummaryCards.tsx"],"sourcesContent":["import React from \"react\";\nimport { formatCurrency } from \"@/utils/format\";\nimport type { SummaryByCurrency } from \"@/types/api\";\nimport { Card, CardContent } from \"@/components/ui/shadcn/card\";\nimport { Skeleton } from \"@/components/ui/Skeleton\";\nimport { TrendingUp, TrendingDown, Wallet } from \"lucide-react\";\n\ninterface SummaryCardsProps {\n  totalIncome: number;\n  totalExpense: number;\n  balance: number;\n  displayCurrency?: string;\n  byCurrency?: SummaryByCurrency[];\n  currencyRates?: Record<string, number>;\n  loading?: boolean;\n}\n\nexport function SummaryCards({\n  totalIncome,\n  totalExpense,\n  balance,\n  displayCurrency = \"RUB\",\n  byCurrency,\n  currencyRates,\n  loading = false,\n}: SummaryCardsProps) {\n  const formatAmount = (amount: number) => {\n    return new Intl.NumberFormat(\"ru-RU\", {\n      style: \"currency\",\n      currency: displayCurrency,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(amount);\n  };\n\n  if (loading) {\n    return (\n      <div\n        className=\"grid grid-cols-1 md:grid-cols-3 gap-6\"\n        role=\"status\"\n        aria-label=\"Загрузка\"\n      >\n        {[...Array(3)].map((_, index) => (\n          <Card key={index}>\n            <CardContent className=\"p-6\">\n              <Skeleton className=\"h-4 w-24 mb-4\" />\n              <Skeleton className=\"h-9 w-32\" />\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-muted-foreground mb-1\">Доходы</p>\n                <p className=\"text-3xl font-semibold text-secondary\">\n                  {formatAmount(totalIncome)}\n                </p>\n                {byCurrency && byCurrency.length > 1 && (\n                  <div className=\"mt-2 space-y-1\">\n                    {byCurrency.map((item) => (\n                      <p key={item.currency} className=\"text-xs text-muted-foreground\">\n                        {item.currency}:{\" \"}\n                        {new Intl.NumberFormat(\"ru-RU\", {\n                          style: \"currency\",\n                          currency: item.currency,\n                          minimumFractionDigits: 0,\n                          maximumFractionDigits: 0,\n                        }).format(parseFloat(item.totalIncome.toString()))}\n                      </p>\n                    ))}\n                  </div>\n                )}\n              </div>\n              <div className=\"w-12 h-12 rounded-2xl bg-secondary/10 flex items-center justify-center flex-shrink-0\">\n                <TrendingUp className=\"w-6 h-6 text-secondary\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-muted-foreground mb-1\">\n                  Расходы\n                </p>\n                <p className=\"text-3xl font-semibold text-destructive\">\n                  {formatAmount(totalExpense)}\n                </p>\n                {byCurrency && byCurrency.length > 1 && (\n                  <div className=\"mt-2 space-y-1\">\n                    {byCurrency.map((item) => (\n                      <p key={item.currency} className=\"text-xs text-muted-foreground\">\n                        {item.currency}:{\" \"}\n                        {new Intl.NumberFormat(\"ru-RU\", {\n                          style: \"currency\",\n                          currency: item.currency,\n                          minimumFractionDigits: 0,\n                          maximumFractionDigits: 0,\n                        }).format(parseFloat(item.totalExpense.toString()))}\n                      </p>\n                    ))}\n                  </div>\n                )}\n              </div>\n              <div className=\"w-12 h-12 rounded-2xl bg-destructive/10 flex items-center justify-center flex-shrink-0\">\n                <TrendingDown className=\"w-6 h-6 text-destructive\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-muted-foreground mb-1\">Баланс</p>\n                <p\n                  className={`text-3xl font-semibold ${\n                    balance >= 0 ? \"text-primary\" : \"text-destructive\"\n                  }`}\n                >\n                  {formatAmount(balance)}\n                </p>\n                {byCurrency && byCurrency.length > 1 && (\n                  <div className=\"mt-2 space-y-1\">\n                    {byCurrency.map((item) => (\n                      <p key={item.currency} className=\"text-xs text-muted-foreground\">\n                        {item.currency}:{\" \"}\n                        {new Intl.NumberFormat(\"ru-RU\", {\n                          style: \"currency\",\n                          currency: item.currency,\n                          minimumFractionDigits: 0,\n                          maximumFractionDigits: 0,\n                        }).format(parseFloat(item.balance.toString()))}\n                      </p>\n                    ))}\n                  </div>\n                )}\n              </div>\n              <div className=\"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center flex-shrink-0\">\n                <Wallet className=\"w-6 h-6 text-primary\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {currencyRates && byCurrency && byCurrency.length > 1 && (\n        <div className=\"mt-4 rounded-2xl border border-border bg-muted/30 p-4\">\n          <div className=\"flex flex-wrap items-center gap-2 text-sm text-foreground\">\n            <span className=\"font-medium\">Курсы валют к RUB:</span>\n            {Object.entries(currencyRates)\n              .filter(\n                ([currency]) =>\n                  currency !== \"RUB\" &&\n                  byCurrency.some((bc) => bc.currency === currency)\n              )\n              .map(([currency, rate], index) => (\n                <React.Fragment key={currency}>\n                  {index > 0 && <span className=\"text-muted-foreground/50\"> • </span>}\n                  <span className=\"text-muted-foreground\">\n                    {currency} = ₽{rate.toFixed(2)}\n                  </span>\n                </React.Fragment>\n              ))}\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]}