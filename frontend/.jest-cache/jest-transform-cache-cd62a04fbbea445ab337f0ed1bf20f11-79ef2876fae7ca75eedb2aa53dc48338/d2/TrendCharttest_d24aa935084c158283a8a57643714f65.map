{"version":3,"sources":["E:\\my\\otus\\finance_tracker\\frontend\\__tests__\\components\\TrendChart.test.tsx"],"sourcesContent":["/**\r\n * Unit tests — TrendChart\r\n * Тестирование интерактивности графиков на сенсорных экранах\r\n * Требования: 3.5\r\n */\r\nimport React from \"react\";\r\nimport { render, screen, waitFor } from \"@testing-library/react\";\r\nimport { TrendChart } from \"@/components/dashboard/TrendChart\";\r\nimport { Chart } from \"chart.js\";\r\n\r\n// Mock Chart.js to access tooltip functionality\r\njest.mock(\"react-chartjs-2\", () => ({\r\n  Line: jest.fn(({ data, options }) => {\r\n    // Store the chart configuration for testing\r\n    const chartId = \"test-chart\";\r\n    return (\r\n      <div data-testid=\"chart-container\" data-chart-id={chartId}>\r\n        <canvas data-testid=\"chart-canvas\" />\r\n      </div>\r\n    );\r\n  }),\r\n}));\r\n\r\ndescribe(\"TrendChart - Touch Interactivity\", () => {\r\n  const mockIncomeData = [\r\n    { date: \"2024-01-01\", amount: 5000 },\r\n    { date: \"2024-01-02\", amount: 6000 },\r\n    { date: \"2024-01-03\", amount: 5500 },\r\n  ];\r\n\r\n  const mockExpenseData = [\r\n    { date: \"2024-01-01\", amount: 3000 },\r\n    { date: \"2024-01-02\", amount: 3500 },\r\n    { date: \"2024-01-03\", amount: 3200 },\r\n  ];\r\n\r\n  beforeEach(() => {\r\n    // Reset mocks before each test\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  describe(\"tooltip configuration for touch events\", () => {\r\n    it(\"should configure tooltip with mode 'index' for touch interaction\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      // Verify Line component was called\r\n      expect(Line).toHaveBeenCalled();\r\n\r\n      // Get the options passed to the Line component\r\n      const callArgs = Line.mock.calls[0];\r\n      const options = callArgs[0].options;\r\n\r\n      // Verify tooltip configuration supports touch interaction\r\n      expect(options.plugins.tooltip).toBeDefined();\r\n      expect(options.plugins.tooltip.mode).toBe(\"index\");\r\n      expect(options.plugins.tooltip.intersect).toBe(false);\r\n    });\r\n\r\n    it(\"should configure tooltip with proper styling for visibility\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const tooltipConfig = callArgs[0].options.plugins.tooltip;\r\n\r\n      // Verify tooltip has proper styling for touch screens\r\n      expect(tooltipConfig.backgroundColor).toBeDefined();\r\n      expect(tooltipConfig.titleColor).toBeDefined();\r\n      expect(tooltipConfig.bodyColor).toBeDefined();\r\n      expect(tooltipConfig.borderColor).toBeDefined();\r\n      expect(tooltipConfig.borderWidth).toBeDefined();\r\n      expect(tooltipConfig.padding).toBeDefined();\r\n      expect(tooltipConfig.cornerRadius).toBeDefined();\r\n    });\r\n\r\n    it(\"should format tooltip labels with currency\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const tooltipConfig = callArgs[0].options.plugins.tooltip;\r\n\r\n      // Verify tooltip has label callback for formatting\r\n      expect(tooltipConfig.callbacks).toBeDefined();\r\n      expect(tooltipConfig.callbacks.label).toBeDefined();\r\n      expect(typeof tooltipConfig.callbacks.label).toBe(\"function\");\r\n\r\n      // Test the label formatter\r\n      const mockContext = {\r\n        dataset: { label: \"Доходы\" },\r\n        parsed: { y: 5000 },\r\n      };\r\n\r\n      const formattedLabel = tooltipConfig.callbacks.label(mockContext);\r\n      expect(formattedLabel).toContain(\"Доходы\");\r\n      expect(formattedLabel).toContain(\"5\");\r\n    });\r\n  });\r\n\r\n  describe(\"responsive tooltip behavior\", () => {\r\n    it(\"should maintain tooltip configuration on mobile viewports\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      // Set mobile viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 375,\r\n      });\r\n\r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const tooltipConfig = callArgs[0].options.plugins.tooltip;\r\n\r\n      // Tooltip should still be configured on mobile\r\n      expect(tooltipConfig.mode).toBe(\"index\");\r\n      expect(tooltipConfig.intersect).toBe(false);\r\n    });\r\n\r\n    it(\"should maintain tooltip configuration on tablet viewports\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      // Set tablet viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 768,\r\n      });\r\n\r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const tooltipConfig = callArgs[0].options.plugins.tooltip;\r\n\r\n      // Tooltip should still be configured on tablet\r\n      expect(tooltipConfig.mode).toBe(\"index\");\r\n      expect(tooltipConfig.intersect).toBe(false);\r\n    });\r\n\r\n    it(\"should maintain tooltip configuration on desktop viewports\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      // Set desktop viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 1024,\r\n      });\r\n\r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const tooltipConfig = callArgs[0].options.plugins.tooltip;\r\n\r\n      // Tooltip should be configured on desktop\r\n      expect(tooltipConfig.mode).toBe(\"index\");\r\n      expect(tooltipConfig.intersect).toBe(false);\r\n    });\r\n  });\r\n\r\n  describe(\"chart rendering with tooltip support\", () => {\r\n    it(\"should render chart canvas for touch interaction\", () => {\r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const canvas = screen.getByTestId(\"chart-canvas\");\r\n      expect(canvas).toBeInTheDocument();\r\n      expect(canvas.tagName).toBe(\"CANVAS\");\r\n    });\r\n\r\n    it(\"should render chart with data for tooltip display\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const chartData = callArgs[0].data;\r\n\r\n      // Verify chart has data for tooltips to display\r\n      expect(chartData.labels).toHaveLength(3);\r\n      expect(chartData.datasets).toHaveLength(2);\r\n      expect(chartData.datasets[0].label).toBe(\"Доходы\");\r\n      expect(chartData.datasets[1].label).toBe(\"Расходы\");\r\n    });\r\n\r\n    it(\"should not render chart when no data is provided\", () => {\r\n      render(<TrendChart incomeData={[]} expenseData={[]} />);\r\n\r\n      // Should show \"no data\" message instead of chart\r\n      expect(screen.getByText(\"Нет данных для отображения\")).toBeInTheDocument();\r\n      expect(screen.queryByTestId(\"chart-canvas\")).not.toBeInTheDocument();\r\n    });\r\n  });\r\n\r\n  describe(\"tooltip accessibility on touch devices\", () => {\r\n    it(\"should configure tooltip with adequate padding for touch targets\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const tooltipConfig = callArgs[0].options.plugins.tooltip;\r\n\r\n      // Tooltip should have adequate padding for readability on touch screens\r\n      expect(tooltipConfig.padding).toBeGreaterThanOrEqual(8);\r\n    });\r\n\r\n    it(\"should configure tooltip with rounded corners for modern touch UI\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const tooltipConfig = callArgs[0].options.plugins.tooltip;\r\n\r\n      // Tooltip should have rounded corners for better touch UI\r\n      expect(tooltipConfig.cornerRadius).toBeGreaterThan(0);\r\n    });\r\n  });\r\n\r\n  describe(\"edge cases\", () => {\r\n    it(\"should handle tooltip with null values gracefully\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const labelCallback = callArgs[0].options.plugins.tooltip.callbacks.label;\r\n\r\n      // Test with null value\r\n      const mockContextWithNull = {\r\n        dataset: { label: \"Доходы\" },\r\n        parsed: { y: null },\r\n      };\r\n\r\n      const result = labelCallback(mockContextWithNull);\r\n      expect(result).toBe(\"Доходы\");\r\n    });\r\n\r\n    it(\"should handle tooltip with missing label gracefully\", () => {\r\n      const { Line } = require(\"react-chartjs-2\");\r\n      \r\n      render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n        />\r\n      );\r\n\r\n      const callArgs = Line.mock.calls[0];\r\n      const labelCallback = callArgs[0].options.plugins.tooltip.callbacks.label;\r\n\r\n      // Test with missing label\r\n      const mockContextWithoutLabel = {\r\n        dataset: {},\r\n        parsed: { y: 5000 },\r\n      };\r\n\r\n      const result = labelCallback(mockContextWithoutLabel);\r\n      expect(result).toBe(\"\");\r\n    });\r\n\r\n    it(\"should render loading state without tooltip interaction\", () => {\r\n      const { container } = render(\r\n        <TrendChart\r\n          incomeData={mockIncomeData}\r\n          expenseData={mockExpenseData}\r\n          loading={true}\r\n        />\r\n      );\r\n\r\n      // Should show loading skeleton, not chart\r\n      expect(screen.queryByTestId(\"chart-canvas\")).not.toBeInTheDocument();\r\n      const skeleton = container.querySelector(\".animate-pulse\");\r\n      expect(skeleton).toBeInTheDocument();\r\n    });\r\n  });\r\n});\r\n"],"names":["jest","mock","Line","fn","data","options","chartId","div","data-testid","data-chart-id","canvas","describe","mockIncomeData","date","amount","mockExpenseData","beforeEach","clearAllMocks","it","require","render","TrendChart","incomeData","expenseData","expect","toHaveBeenCalled","callArgs","calls","plugins","tooltip","toBeDefined","mode","toBe","intersect","tooltipConfig","backgroundColor","titleColor","bodyColor","borderColor","borderWidth","padding","cornerRadius","callbacks","label","mockContext","dataset","parsed","y","formattedLabel","toContain","Object","defineProperty","window","writable","configurable","value","screen","getByTestId","toBeInTheDocument","tagName","chartData","labels","toHaveLength","datasets","getByText","queryByTestId","not","toBeGreaterThanOrEqual","toBeGreaterThan","labelCallback","mockContextWithNull","result","mockContextWithoutLabel","container","loading","skeleton","querySelector"],"mappings":"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"}