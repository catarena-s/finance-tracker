{"version":3,"names":["TransactionTable","transactions","loading","cov_199s2puu9g","b","currentPage","totalPages","totalItems","pageSize","onPageChange","onEdit","onDelete","f","s","_jsxruntime","jsx","_card","Card","className","Array","map","_","i","length","jsxs","_table","Table","TableHeader","TableRow","TableHead","TableBody","transaction","isIncome","type","TableCell","_format","formatDate","transactionDate","category","name","categoryId","description","formatCurrency","Number","amount","currency","_button","Button","variant","size","onClick","_lucidereact","Pencil","id","Trash2","_Pagination","Pagination"],"sources":["E:\\my\\otus\\finance_tracker\\frontend\\src\\components\\transactions\\TransactionTable.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Transaction } from \"@/types/api\";\nimport { formatCurrency, formatDate } from \"@/utils/format\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/shadcn/table\";\nimport { Button } from \"@/components/ui/shadcn/button\";\nimport { Card } from \"@/components/ui/shadcn/card\";\nimport { Pagination } from \"@/components/ui/Pagination\";\nimport { Pencil, Trash2 } from \"lucide-react\";\n\ninterface TransactionTableProps {\n  transactions: Transaction[];\n  loading?: boolean;\n  currentPage: number;\n  totalPages: number;\n  totalItems: number;\n  pageSize: number;\n  onPageChange: (page: number) => void;\n  onEdit: (transaction: Transaction) => void;\n  onDelete: (id: string) => void;\n}\n\nexport function TransactionTable({\n  transactions,\n  loading = false,\n  currentPage,\n  totalPages,\n  totalItems,\n  pageSize,\n  onPageChange,\n  onEdit,\n  onDelete,\n}: TransactionTableProps) {\n  if (loading) {\n    return (\n      <Card className=\"overflow-hidden rounded-2xl border border-border bg-card shadow-sm\">\n        <div className=\"animate-pulse space-y-4 p-6 md:p-8\">\n          {[...Array(5)].map((_, i) => (\n            <div key={i} className=\"h-12 rounded-lg bg-muted\" />\n          ))}\n        </div>\n      </Card>\n    );\n  }\n\n  if (!transactions || transactions.length === 0) {\n    return (\n      <Card className=\"rounded-2xl border border-border bg-card p-12 text-center shadow-sm md:p-8\">\n        <p className=\"font-medium text-foreground\">Нет транзакций</p>\n        <p className=\"mt-1 text-sm text-muted-foreground\">\n          Создайте первую транзакцию, чтобы начать учёт\n        </p>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card className=\"overflow-hidden rounded-2xl border border-border bg-card shadow-sm transition-[box-shadow] hover:shadow-md\">\n        <Table>\n          <TableHeader>\n            <TableRow className=\"border-border hover:bg-transparent\">\n              <TableHead className=\"h-12 w-[100px] px-2 font-semibold text-muted-foreground md:w-[120px] md:px-4\">\n                Дата\n              </TableHead>\n              <TableHead className=\"hidden w-[80px] px-2 font-semibold text-muted-foreground lg:table-cell md:px-4\">\n                Тип\n              </TableHead>\n              <TableHead className=\"w-[120px] px-2 font-semibold text-muted-foreground md:w-[140px] md:px-4\">\n                Категория\n              </TableHead>\n              <TableHead className=\"hidden px-2 font-semibold text-muted-foreground xl:table-cell md:px-4\">\n                Описание\n              </TableHead>\n              <TableHead className=\"min-w-[120px] px-2 text-right font-semibold text-muted-foreground md:px-4\">\n                Сумма\n              </TableHead>\n              <TableHead className=\"w-[80px] px-1 text-right font-semibold text-muted-foreground md:w-[100px] md:px-2\">\n                Действия\n              </TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {transactions.map((transaction) => {\n              const isIncome = transaction.type === \"income\";\n              return (\n                <TableRow\n                  key={transaction.id}\n                  className=\"border-border transition-[background-color] hover:bg-muted/50\"\n                >\n                  <TableCell className=\"px-2 py-3 text-xs font-medium text-muted-foreground md:px-4 md:text-sm\">\n                    {formatDate(transaction.transactionDate)}\n                  </TableCell>\n                  <TableCell className=\"hidden px-2 py-3 lg:table-cell md:px-4\">\n                    <span\n                      className={\n                        isIncome\n                          ? \"text-xs font-medium text-secondary md:text-sm\"\n                          : \"text-xs font-medium text-foreground md:text-sm\"\n                      }\n                    >\n                      {isIncome ? \"Доход\" : \"Расход\"}\n                    </span>\n                  </TableCell>\n                  <TableCell className=\"px-2 py-3 text-xs text-foreground md:px-4 md:text-sm\">\n                    {(transaction as any).category?.name || transaction.categoryId}\n                  </TableCell>\n                  <TableCell className=\"hidden max-w-[200px] truncate px-2 py-3 text-xs text-muted-foreground xl:table-cell md:px-4 md:text-sm\">\n                    {transaction.description || \"—\"}\n                  </TableCell>\n                  <TableCell className=\"px-2 py-3 text-right text-xs font-semibold md:px-4 md:text-sm\">\n                    <span className={isIncome ? \"text-secondary\" : \"text-foreground\"}>\n                      {isIncome ? \"+\" : \"−\"}\n                      {formatCurrency(Number(transaction.amount), transaction.currency)}\n                    </span>\n                  </TableCell>\n                  <TableCell className=\"px-1 py-3 text-right md:px-2\">\n                    <div className=\"flex justify-end gap-0.5\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-8 w-8 rounded-xl text-muted-foreground transition-[background-color,color] duration-200 hover:bg-muted hover:text-foreground\"\n                        onClick={() => onEdit(transaction)}\n                        aria-label=\"Редактировать\"\n                      >\n                        <Pencil className=\"h-3.5 w-3.5\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-8 w-8 rounded-xl text-muted-foreground transition-[background-color,color] duration-200 hover:bg-destructive/10 hover:text-destructive\"\n                        onClick={() => onDelete(transaction.id)}\n                        aria-label=\"Удалить\"\n                      >\n                        <Trash2 className=\"h-3.5 w-3.5\" />\n                      </Button>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </Card>\n\n      {totalPages > 1 && (\n        <Pagination\n          currentPage={currentPage}\n          totalPages={totalPages}\n          totalItems={totalItems}\n          pageSize={pageSize}\n          onPageChange={onPageChange}\n        />\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BA8BgB;;;;;;WAAAA,gBAAA;;;;;;;;wEA5BE;;;kCAEyB;;;kCAQpC;;;kCACgB;;;kCACF;;;kCACM;;;mCACI;;;;;;;;;;;;;;;AAcxB,SAASA,iBAAiB;EAC/BC,YAAY;EACZC,OAAA;EAAA;EAAA,CAAAC,cAAA,GAAAC,CAAA,UAAU,KAAK;EACfC,WAAW;EACXC,UAAU;EACVC,UAAU;EACVC,QAAQ;EACRC,YAAY;EACZC,MAAM;EACNC;AAAQ,CACc;EAAA;EAAAR,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAU,CAAA;EACtB,IAAIX,OAAA,EAAS;IAAA;IAAAC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAU,CAAA;IACX,oBACE,IAAAC,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAC,IAAI;MAACC,SAAA,EAAU;gBACd,iBAAAJ,WAAA,CAAAC,GAAA,EAAC;QAAIG,SAAA,EAAU;kBACZ,C,GAAIC,KAAA,CAAM,GAAG,CAACC,GAAG,CAAC,CAACC,CAAA,EAAGC,CAAA,KACrB;UAAA;UAAAnB,cAAA,GAAAS,CAAA;UAAAT,cAAA,GAAAU,CAAA;UAAA,OADqB,aACrB,IAAAC,WAAA,CAAAC,GAAA,EAAC;YAAYG,SAAA,EAAU;aAAbI,CAAA;QAAA;;;EAKpB;EAAA;EAAA;IAAAnB,cAAA,GAAAC,CAAA;EAAA;EAAAD,cAAA,GAAAU,CAAA;EAEA;EAAI;EAAA,CAAAV,cAAA,GAAAC,CAAA,WAACH,YAAA;EAAA;EAAA,CAAAE,cAAA,GAAAC,CAAA,UAAgBH,YAAA,CAAasB,MAAM,KAAK,IAAG;IAAA;IAAApB,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAU,CAAA;IAC9C,oBACE,IAAAC,WAAA,CAAAU,IAAA,EAACR,KAAA,CAAAC,IAAI;MAACC,SAAA,EAAU;8BACd,IAAAJ,WAAA,CAAAC,GAAA,EAAC;QAAEG,SAAA,EAAU;kBAA8B;uBAC3C,IAAAJ,WAAA,CAAAC,GAAA,EAAC;QAAEG,SAAA,EAAU;kBAAqC;;;EAKxD;EAAA;EAAA;IAAAf,cAAA,GAAAC,CAAA;EAAA;EAAAD,cAAA,GAAAU,CAAA;EAEA,oBACE,IAAAC,WAAA,CAAAU,IAAA,EAAC;IAAIN,SAAA,EAAU;4BACb,IAAAJ,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAC,IAAI;MAACC,SAAA,EAAU;gBACd,iBAAAJ,WAAA,CAAAU,IAAA,EAACC,MAAA,CAAAC,KAAK;gCACJ,IAAAZ,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAE,WAAW;oBACV,iBAAAb,WAAA,CAAAU,IAAA,EAACC,MAAA,CAAAG,QAAQ;YAACV,SAAA,EAAU;oCAClB,IAAAJ,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAI,SAAS;cAACX,SAAA,EAAU;wBAA+E;6BAGpG,IAAAJ,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAI,SAAS;cAACX,SAAA,EAAU;wBAAiF;6BAGtG,IAAAJ,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAI,SAAS;cAACX,SAAA,EAAU;wBAA0E;6BAG/F,IAAAJ,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAI,SAAS;cAACX,SAAA,EAAU;wBAAwE;6BAG7F,IAAAJ,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAI,SAAS;cAACX,SAAA,EAAU;wBAA4E;6BAGjG,IAAAJ,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAI,SAAS;cAACX,SAAA,EAAU;wBAAoF;;;yBAK7G,IAAAJ,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAK,SAAS;oBACP7B,YAAA,CAAamB,GAAG,CAAEW,WAAA;YAAA;YAAA5B,cAAA,GAAAS,CAAA;YACjB,MAAMoB,QAAA;YAAA;YAAA,CAAA7B,cAAA,GAAAU,CAAA,QAAWkB,WAAA,CAAYE,IAAI,KAAK;YAAA;YAAA9B,cAAA,GAAAU,CAAA;YACtC,oBACE,IAAAC,WAAA,CAAAU,IAAA,EAACC,MAAA,CAAAG,QAAQ;cAEPV,SAAA,EAAU;sCAEV,IAAAJ,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAS,SAAS;gBAAChB,SAAA,EAAU;0BAClB,IAAAiB,OAAA,CAAAC,UAAU,EAACL,WAAA,CAAYM,eAAe;+BAEzC,IAAAvB,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAS,SAAS;gBAAChB,SAAA,EAAU;0BACnB,iBAAAJ,WAAA,CAAAC,GAAA,EAAC;kBACCG,SAAA,EACEc,QAAA;kBAAA;kBAAA,CAAA7B,cAAA,GAAAC,CAAA,UACI;kBAAA;kBAAA,CAAAD,cAAA,GAAAC,CAAA,UACA;4BAGL4B,QAAA;kBAAA;kBAAA,CAAA7B,cAAA,GAAAC,CAAA,UAAW;kBAAA;kBAAA,CAAAD,cAAA,GAAAC,CAAA,UAAU;;+BAG1B,IAAAU,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAS,SAAS;gBAAChB,SAAA,EAAU;;gBAClB;gBAAA,CAAAf,cAAA,GAAAC,CAAA,UAAA2B,WAAC,CAAoBO,QAAQ,EAAEC,IAAA;gBAAA;gBAAA,CAAApC,cAAA,GAAAC,CAAA,UAAQ2B,WAAA,CAAYS,UAAU;+BAEhE,IAAA1B,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAS,SAAS;gBAAChB,SAAA,EAAU;;gBAClB;gBAAA,CAAAf,cAAA,GAAAC,CAAA,UAAA2B,WAAA,CAAYU,WAAW;gBAAA;gBAAA,CAAAtC,cAAA,GAAAC,CAAA,UAAI;+BAE9B,IAAAU,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAS,SAAS;gBAAChB,SAAA,EAAU;0BACnB,iBAAAJ,WAAA,CAAAU,IAAA,EAAC;kBAAKN,SAAA,EAAWc,QAAA;kBAAA;kBAAA,CAAA7B,cAAA,GAAAC,CAAA,WAAW;kBAAA;kBAAA,CAAAD,cAAA,GAAAC,CAAA,WAAmB;6BAC5C4B,QAAA;kBAAA;kBAAA,CAAA7B,cAAA,GAAAC,CAAA,WAAW;kBAAA;kBAAA,CAAAD,cAAA,GAAAC,CAAA,WAAM,MACjB,IAAA+B,OAAA,CAAAO,cAAc,EAACC,MAAA,CAAOZ,WAAA,CAAYa,MAAM,GAAGb,WAAA,CAAYc,QAAQ;;+BAGpE,IAAA/B,WAAA,CAAAC,GAAA,EAACU,MAAA,CAAAS,SAAS;gBAAChB,SAAA,EAAU;0BACnB,iBAAAJ,WAAA,CAAAU,IAAA,EAAC;kBAAIN,SAAA,EAAU;0CACb,IAAAJ,WAAA,CAAAC,GAAA,EAAC+B,OAAA,CAAAC,MAAM;oBACLC,OAAA,EAAQ;oBACRC,IAAA,EAAK;oBACL/B,SAAA,EAAU;oBACVgC,OAAA,EAASA,CAAA,KAAM;sBAAA;sBAAA/C,cAAA,GAAAS,CAAA;sBAAAT,cAAA,GAAAU,CAAA;sBAAA,OAAAH,MAAA,CAAOqB,WAAA;oBAAA;oBACtB,cAAW;8BAEX,iBAAAjB,WAAA,CAAAC,GAAA,EAACoC,YAAA,CAAAC,MAAM;sBAAClC,SAAA,EAAU;;mCAEpB,IAAAJ,WAAA,CAAAC,GAAA,EAAC+B,OAAA,CAAAC,MAAM;oBACLC,OAAA,EAAQ;oBACRC,IAAA,EAAK;oBACL/B,SAAA,EAAU;oBACVgC,OAAA,EAASA,CAAA,KAAM;sBAAA;sBAAA/C,cAAA,GAAAS,CAAA;sBAAAT,cAAA,GAAAU,CAAA;sBAAA,OAAAF,QAAA,CAASoB,WAAA,CAAYsB,EAAE;oBAAA;oBACtC,cAAW;8BAEX,iBAAAvC,WAAA,CAAAC,GAAA,EAACoC,YAAA,CAAAG,MAAM;sBAACpC,SAAA,EAAU;;;;;eA/CnBa,WAAA,CAAYsB,EAAE;UAqDzB;;;;IAKL;IAAA,CAAAlD,cAAA,GAAAC,CAAA,WAAAE,UAAA,GAAa;IAAA;IAAA,CAAAH,cAAA,GAAAC,CAAA,wBACZ,IAAAU,WAAA,CAAAC,GAAA,EAACwC,WAAA,CAAAC,UAAU;MACTnD,WAAA,EAAaA,WAAA;MACbC,UAAA,EAAYA,UAAA;MACZC,UAAA,EAAYA,UAAA;MACZC,QAAA,EAAUA,QAAA;MACVC,YAAA,EAAcA;;;AAKxB","ignoreList":[]}