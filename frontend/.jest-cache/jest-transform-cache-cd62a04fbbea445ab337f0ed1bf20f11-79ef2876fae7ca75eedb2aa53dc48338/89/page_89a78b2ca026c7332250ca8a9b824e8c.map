{"version":3,"names":["RecurringPage","RecurringPageContent","cov_1im1omd7ss","f","categories","loadCategories","s","_AppContext","useApp","items","setItems","_react","useState","loading","setLoading","error","setError","isCreateModalOpen","setIsCreateModalOpen","isEditModalOpen","setIsEditModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","selected","setSelected","searchParams","_navigation","useSearchParams","load","useCallback","_api","recurringTransactionsApi","getAll","then","catch","e","b","message","finally","useEffect","get","window","history","replaceState","location","pathname","handleCreate","data","create","handleEdit","item","handleUpdate","update","id","handleDeleteClick","handleDeleteConfirm","delete","handleToggleActive","isActive","_jsxruntime","jsx","className","jsxs","_card","Card","CardContent","type","onClick","_lucidereact","X","length","_recurring","RecurringTransactionList","onEdit","onDelete","find","r","onToggleActive","_ui","Modal","isOpen","onClose","title","RecurringTransactionForm","onSubmit","onCancel","size","name","Button","variant","Suspense","fallback"],"sources":["E:\\my\\otus\\finance_tracker\\frontend\\src\\app\\recurring\\page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState, useCallback, Suspense } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport { recurringTransactionsApi } from \"@/services/api\";\nimport { useApp } from \"@/contexts/AppContext\";\nimport type { RecurringTransaction, RecurringTransactionCreate } from \"@/types/api\";\nimport {\n  RecurringTransactionList,\n  RecurringTransactionForm,\n} from \"@/components/recurring\";\nimport { Modal, Button } from \"@/components/ui\";\nimport { Card, CardContent } from \"@/components/ui/shadcn/card\";\nimport { X } from \"lucide-react\";\n\nfunction RecurringPageContent() {\n  const { categories, loadCategories } = useApp();\n  const [items, setItems] = useState<RecurringTransaction[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [selected, setSelected] = useState<RecurringTransaction | null>(null);\n  const searchParams = useSearchParams();\n\n  const load = useCallback(() => {\n    setLoading(true);\n    recurringTransactionsApi\n      .getAll()\n      .then(setItems)\n      .catch((e) => setError(e?.message ?? \"Ошибка загрузки\"))\n      .finally(() => setLoading(false));\n  }, []);\n\n  useEffect(() => {\n    loadCategories();\n    load();\n  }, [loadCategories, load]);\n\n  useEffect(() => {\n    if (searchParams.get(\"openAdd\") === \"1\" && !isCreateModalOpen) {\n      setIsCreateModalOpen(true);\n      // Очищаем query параметр после открытия\n      window.history.replaceState({}, \"\", window.location.pathname);\n    }\n  }, [searchParams, isCreateModalOpen]);\n\n  const handleCreate = async (data: RecurringTransactionCreate) => {\n    await recurringTransactionsApi.create(data);\n    setIsCreateModalOpen(false);\n    load();\n  };\n\n  const handleEdit = (item: RecurringTransaction) => {\n    setSelected(item);\n    setIsEditModalOpen(true);\n  };\n\n  const handleUpdate = async (data: RecurringTransactionCreate) => {\n    if (!selected) return;\n    await recurringTransactionsApi.update(selected.id, data);\n    setIsEditModalOpen(false);\n    setSelected(null);\n    load();\n  };\n\n  const handleDeleteClick = (item: RecurringTransaction) => {\n    setSelected(item);\n    setIsDeleteModalOpen(true);\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (!selected) return;\n    await recurringTransactionsApi.delete(selected.id);\n    setIsDeleteModalOpen(false);\n    setSelected(null);\n    load();\n  };\n\n  const handleToggleActive = async (id: string, isActive: boolean) => {\n    await recurringTransactionsApi.update(id, { isActive });\n    load();\n  };\n\n  return (\n    <div className=\"min-h-full bg-background\">\n      <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n        <div className=\"mb-8 flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-semibold text-foreground md:text-3xl mb-2\">\n              Повторяющиеся транзакции\n            </h1>\n            <p className=\"text-muted-foreground\">\n              Шаблоны для автоматического создания транзакций (подписки, зарплата и\n              т.д.).\n            </p>\n          </div>\n        </div>\n\n        {error && (\n          <Card className=\"mb-6 rounded-2xl border-destructive/50 bg-destructive/10 shadow-sm\">\n            <CardContent className=\"flex flex-row items-center justify-between py-4\">\n              <span className=\"text-destructive\">{error}</span>\n              <button\n                type=\"button\"\n                onClick={() => setError(null)}\n                className=\"rounded-2xl p-1 text-destructive hover:text-destructive/80\"\n                aria-label=\"Закрыть\"\n              >\n                <X className=\"h-5 w-5\" />\n              </button>\n            </CardContent>\n          </Card>\n        )}\n\n        {loading && items.length === 0 && (\n          <Card className=\"rounded-2xl shadow-sm\">\n            <CardContent className=\"py-8 text-center\">\n              <p className=\"text-muted-foreground\">Загрузка...</p>\n            </CardContent>\n          </Card>\n        )}\n\n        {(!loading || items.length > 0) && (\n          <RecurringTransactionList\n            items={items}\n            onEdit={handleEdit}\n            onDelete={(id) => {\n              const item = items.find((r) => r.id === id);\n              if (item) handleDeleteClick(item);\n            }}\n            onToggleActive={handleToggleActive}\n          />\n        )}\n\n        <Modal\n          isOpen={isCreateModalOpen}\n          onClose={() => setIsCreateModalOpen(false)}\n          title=\"Создать шаблон\"\n        >\n          <RecurringTransactionForm\n            categories={categories ?? []}\n            onSubmit={handleCreate}\n            onCancel={() => setIsCreateModalOpen(false)}\n          />\n        </Modal>\n\n        <Modal\n          isOpen={isEditModalOpen}\n          onClose={() => {\n            setIsEditModalOpen(false);\n            setSelected(null);\n          }}\n          title=\"Редактировать шаблон\"\n        >\n          {selected && (\n            <RecurringTransactionForm\n              item={selected}\n              categories={categories ?? []}\n              onSubmit={handleUpdate}\n              onCancel={() => {\n                setIsEditModalOpen(false);\n                setSelected(null);\n              }}\n            />\n          )}\n        </Modal>\n\n        <Modal\n          isOpen={isDeleteModalOpen}\n          onClose={() => {\n            setIsDeleteModalOpen(false);\n            setSelected(null);\n          }}\n          title=\"Удалить шаблон\"\n          size=\"sm\"\n        >\n          <div className=\"space-y-4\">\n            <p className=\"text-foreground\">\n              Удалить шаблон &quot;{selected?.name}&quot;? Созданные транзакции\n              сохранятся.\n            </p>\n            <div className=\"flex gap-3\">\n              <Button variant=\"danger\" onClick={handleDeleteConfirm} className=\"flex-1\">\n                Удалить\n              </Button>\n              <Button\n                variant=\"secondary\"\n                onClick={() => {\n                  setIsDeleteModalOpen(false);\n                  setSelected(null);\n                }}\n                className=\"flex-1\"\n              >\n                Отмена\n              </Button>\n            </div>\n          </div>\n        </Modal>\n      </div>\n    </div>\n  );\n}\n\nexport default function RecurringPage() {\n  return (\n    <Suspense\n      fallback={<div className=\"min-h-full bg-background p-8\">Загрузка...</div>}\n    >\n      <RecurringPageContent />\n    </Suspense>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}