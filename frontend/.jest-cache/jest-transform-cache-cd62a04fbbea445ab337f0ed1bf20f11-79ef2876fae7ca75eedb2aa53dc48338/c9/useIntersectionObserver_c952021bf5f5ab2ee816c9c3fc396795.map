{"version":3,"names":["cov_239tp6uhe1","actualCoverage","s","useIntersectionObserver","options","b","f","threshold","rootMargin","triggerOnce","isIntersecting","setIsIntersecting","_react","useState","hasTriggered","setHasTriggered","targetRef","useRef","useEffect","target","current","observer","IntersectionObserver","entries","forEach","entry","disconnect","observe","ref"],"sources":["E:\\my\\otus\\finance_tracker\\frontend\\src\\hooks\\useIntersectionObserver.ts"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\ninterface UseIntersectionObserverOptions {\n  threshold?: number;\n  rootMargin?: string;\n  triggerOnce?: boolean;\n}\n\n/**\n * Хук для отслеживания видимости элемента в viewport\n */\nexport function useIntersectionObserver(options: UseIntersectionObserverOptions = {}) {\n  const { threshold = 0, rootMargin = \"0px\", triggerOnce = true } = options;\n  const [isIntersecting, setIsIntersecting] = useState(false);\n  const [hasTriggered, setHasTriggered] = useState(false);\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const target = targetRef.current;\n    if (!target) return;\n\n    // Если уже сработало и triggerOnce = true, не создаем observer\n    if (triggerOnce && hasTriggered) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setIsIntersecting(true);\n            if (triggerOnce) {\n              setHasTriggered(true);\n              observer.disconnect();\n            }\n          } else {\n            if (!triggerOnce) {\n              setIsIntersecting(false);\n            }\n          }\n        });\n      },\n      {\n        threshold,\n        rootMargin,\n      }\n    );\n\n    observer.observe(target);\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [threshold, rootMargin, triggerOnce, hasTriggered]);\n\n  return { ref: targetRef, isIntersecting };\n}\n"],"mappings":"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","ignoreList":[]}