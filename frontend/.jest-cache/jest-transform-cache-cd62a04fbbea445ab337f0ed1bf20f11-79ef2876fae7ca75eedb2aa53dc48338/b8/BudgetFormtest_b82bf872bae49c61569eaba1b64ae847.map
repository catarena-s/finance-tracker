{"version":3,"sources":["E:\\my\\otus\\finance_tracker\\frontend\\__tests__\\components\\BudgetForm.test.tsx"],"sourcesContent":["/**\r\n * Unit tests — BudgetForm\r\n * Рендер формы, наличие поля «Валюта».\r\n */\r\nimport React from \"react\";\r\nimport { render, screen } from \"@testing-library/react\";\r\nimport { BudgetForm } from \"@/components/budgets/BudgetForm\";\r\n\r\nconst mockCategories = [\r\n  {\r\n    id: \"cat-1\",\r\n    name: \"Продукты\",\r\n    type: \"expense\" as const,\r\n    color: \"#00FF00\",\r\n    createdAt: \"\",\r\n    updatedAt: \"\",\r\n  },\r\n];\r\n\r\ndescribe(\"BudgetForm\", () => {\r\n  it(\"renders currency select\", () => {\r\n    render(\r\n      <BudgetForm\r\n        categories={mockCategories}\r\n        onSubmit={jest.fn()}\r\n        onCancel={jest.fn()}\r\n      />\r\n    );\r\n    expect(screen.getByLabelText(/Валюта/)).toBeInTheDocument();\r\n  });\r\n\r\n  it(\"renders category and period selects\", () => {\r\n    render(\r\n      <BudgetForm\r\n        categories={mockCategories}\r\n        onSubmit={jest.fn()}\r\n        onCancel={jest.fn()}\r\n      />\r\n    );\r\n    expect(screen.getByText(\"Категория\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"Период\")).toBeInTheDocument();\r\n  });\r\n\r\n  it(\"when editing budget, shows budget currency\", () => {\r\n    render(\r\n      <BudgetForm\r\n        budget={{\r\n          id: \"b-1\",\r\n          categoryId: \"cat-1\",\r\n          amount: 5000,\r\n          currency: \"RUB\",\r\n          period: \"monthly\",\r\n          startDate: \"2025-01-01\",\r\n          endDate: \"2025-01-31\",\r\n          createdAt: \"\",\r\n          updatedAt: \"\",\r\n        }}\r\n        categories={mockCategories}\r\n        onSubmit={jest.fn()}\r\n        onCancel={jest.fn()}\r\n      />\r\n    );\r\n    const currencySelect = screen.getByLabelText(/Валюта/);\r\n    expect(currencySelect).toHaveValue(\"RUB\");\r\n  });\r\n});\r\n"],"names":["mockCategories","id","name","type","color","createdAt","updatedAt","describe","it","render","BudgetForm","categories","onSubmit","jest","fn","onCancel","expect","screen","getByLabelText","toBeInTheDocument","getByText","budget","categoryId","amount","currency","period","startDate","endDate","currencySelect","toHaveValue"],"mappings":"AAAA;;;CAGC;;;;;8DACiB;wBACa;4BACJ;;;;;;AAE3B,MAAMA,iBAAiB;IACrB;QACEC,IAAI;QACJC,MAAM;QACNC,MAAM;QACNC,OAAO;QACPC,WAAW;QACXC,WAAW;IACb;CACD;AAEDC,SAAS,cAAc;IACrBC,GAAG,2BAA2B;QAC5BC,IAAAA,cAAM,gBACJ,qBAACC,sBAAU;YACTC,YAAYX;YACZY,UAAUC,KAAKC,EAAE;YACjBC,UAAUF,KAAKC,EAAE;;QAGrBE,OAAOC,cAAM,CAACC,cAAc,CAAC,WAAWC,iBAAiB;IAC3D;IAEAX,GAAG,uCAAuC;QACxCC,IAAAA,cAAM,gBACJ,qBAACC,sBAAU;YACTC,YAAYX;YACZY,UAAUC,KAAKC,EAAE;YACjBC,UAAUF,KAAKC,EAAE;;QAGrBE,OAAOC,cAAM,CAACG,SAAS,CAAC,cAAcD,iBAAiB;QACvDH,OAAOC,cAAM,CAACG,SAAS,CAAC,WAAWD,iBAAiB;IACtD;IAEAX,GAAG,8CAA8C;QAC/CC,IAAAA,cAAM,gBACJ,qBAACC,sBAAU;YACTW,QAAQ;gBACNpB,IAAI;gBACJqB,YAAY;gBACZC,QAAQ;gBACRC,UAAU;gBACVC,QAAQ;gBACRC,WAAW;gBACXC,SAAS;gBACTtB,WAAW;gBACXC,WAAW;YACb;YACAK,YAAYX;YACZY,UAAUC,KAAKC,EAAE;YACjBC,UAAUF,KAAKC,EAAE;;QAGrB,MAAMc,iBAAiBX,cAAM,CAACC,cAAc,CAAC;QAC7CF,OAAOY,gBAAgBC,WAAW,CAAC;IACrC;AACF"}