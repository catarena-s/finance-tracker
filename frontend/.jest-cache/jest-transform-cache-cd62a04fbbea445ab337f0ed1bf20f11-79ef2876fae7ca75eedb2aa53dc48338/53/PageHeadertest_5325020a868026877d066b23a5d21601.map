{"version":3,"sources":["E:\\my\\otus\\finance_tracker\\frontend\\__tests__\\components\\PageHeader.test.tsx"],"sourcesContent":["/**\r\n * Unit tests — Page Headers\r\n * Тестирование адаптивного поведения заголовков страниц\r\n * Требования: 6.1, 6.3\r\n */\r\nimport React from \"react\";\r\nimport { render } from \"@testing-library/react\";\r\n\r\n// Компонент для тестирования заголовков страниц\r\nconst PageHeader: React.FC<{ title: string }> = ({ title }) => {\r\n  return (\r\n    <div className=\"min-h-full bg-background\">\r\n      <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\r\n        <div className=\"mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\r\n          <h1 className=\"text-2xl font-semibold text-foreground md:text-3xl\">\r\n            {title}\r\n          </h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ndescribe(\"PageHeader\", () => {\r\n  describe(\"responsive font sizes\", () => {\r\n    it(\"should use text-2xl font size on mobile (viewport 375px)\", () => {\r\n      // Устанавливаем мобильный viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 375,\r\n      });\r\n\r\n      const { container } = render(<PageHeader title=\"Тестовый заголовок\" />);\r\n      \r\n      const heading = container.querySelector(\"h1\");\r\n      expect(heading).toBeInTheDocument();\r\n      expect(heading).toHaveClass(\"text-2xl\");\r\n      expect(heading).toHaveClass(\"md:text-3xl\");\r\n    });\r\n\r\n    it(\"should use text-2xl font size on small mobile (viewport 320px)\", () => {\r\n      // Устанавливаем минимальный мобильный viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 320,\r\n      });\r\n\r\n      const { container } = render(<PageHeader title=\"Тестовый заголовок\" />);\r\n      \r\n      const heading = container.querySelector(\"h1\");\r\n      expect(heading).toBeInTheDocument();\r\n      expect(heading).toHaveClass(\"text-2xl\");\r\n    });\r\n\r\n    it(\"should have md:text-3xl class for desktop font size (viewport 768px)\", () => {\r\n      // Устанавливаем tablet/desktop viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 768,\r\n      });\r\n\r\n      const { container } = render(<PageHeader title=\"Тестовый заголовок\" />);\r\n      \r\n      const heading = container.querySelector(\"h1\");\r\n      expect(heading).toBeInTheDocument();\r\n      expect(heading).toHaveClass(\"md:text-3xl\");\r\n    });\r\n\r\n    it(\"should have md:text-3xl class for large desktop (viewport 1024px)\", () => {\r\n      // Устанавливаем desktop viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 1024,\r\n      });\r\n\r\n      const { container } = render(<PageHeader title=\"Тестовый заголовок\" />);\r\n      \r\n      const heading = container.querySelector(\"h1\");\r\n      expect(heading).toBeInTheDocument();\r\n      expect(heading).toHaveClass(\"text-2xl\");\r\n      expect(heading).toHaveClass(\"md:text-3xl\");\r\n    });\r\n  });\r\n\r\n  describe(\"minimum padding\", () => {\r\n    it(\"should have minimum 16px padding (px-4) on mobile (viewport 320px)\", () => {\r\n      // Устанавливаем минимальный мобильный viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 320,\r\n      });\r\n\r\n      const { container } = render(<PageHeader title=\"Тестовый заголовок\" />);\r\n      \r\n      // Проверяем контейнер с padding\r\n      const paddingContainer = container.querySelector(\".px-4\");\r\n      expect(paddingContainer).toBeInTheDocument();\r\n      expect(paddingContainer).toHaveClass(\"px-4\");\r\n    });\r\n\r\n    it(\"should have minimum 16px padding (px-4) on mobile (viewport 375px)\", () => {\r\n      // Устанавливаем стандартный мобильный viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 375,\r\n      });\r\n\r\n      const { container } = render(<PageHeader title=\"Тестовый заголовок\" />);\r\n      \r\n      const paddingContainer = container.querySelector(\".px-4\");\r\n      expect(paddingContainer).toBeInTheDocument();\r\n    });\r\n\r\n    it(\"should have minimum 16px padding (px-4) on mobile landscape (viewport 480px)\", () => {\r\n      // Устанавливаем мобильный landscape viewport\r\n      Object.defineProperty(window, \"innerWidth\", {\r\n        writable: true,\r\n        configurable: true,\r\n        value: 480,\r\n      });\r\n\r\n      const { container } = render(<PageHeader title=\"Тестовый заголовок\" />);\r\n      \r\n      const paddingContainer = container.querySelector(\".px-4\");\r\n      expect(paddingContainer).toBeInTheDocument();\r\n    });\r\n\r\n    it(\"should have responsive padding classes (sm:px-6 lg:px-8)\", () => {\r\n      const { container } = render(<PageHeader title=\"Тестовый заголовок\" />);\r\n      \r\n      // Проверяем наличие адаптивных классов padding для больших экранов\r\n      const paddingContainer = container.querySelector(\".px-4\");\r\n      expect(paddingContainer).toHaveClass(\"sm:px-6\");\r\n      expect(paddingContainer).toHaveClass(\"lg:px-8\");\r\n    });\r\n\r\n    it(\"should maintain padding across all viewport sizes\", () => {\r\n      const viewportSizes = [320, 375, 480, 640, 768, 1024, 1440];\r\n      \r\n      viewportSizes.forEach((width) => {\r\n        Object.defineProperty(window, \"innerWidth\", {\r\n          writable: true,\r\n          configurable: true,\r\n          value: width,\r\n        });\r\n\r\n        const { container } = render(<PageHeader title=\"Тестовый заголовок\" />);\r\n        \r\n        const paddingContainer = container.querySelector(\".px-4\");\r\n        expect(paddingContainer).toBeInTheDocument();\r\n      });\r\n    });\r\n  });\r\n\r\n  describe(\"header structure\", () => {\r\n    it(\"should render heading with correct text\", () => {\r\n      const { container } = render(<PageHeader title=\"Обзор\" />);\r\n      \r\n      const heading = container.querySelector(\"h1\");\r\n      expect(heading).toBeInTheDocument();\r\n      expect(heading?.textContent).toBe(\"Обзор\");\r\n    });\r\n\r\n    it(\"should have semantic heading styles\", () => {\r\n      const { container } = render(<PageHeader title=\"Категории\" />);\r\n      \r\n      const heading = container.querySelector(\"h1\");\r\n      expect(heading).toHaveClass(\"font-semibold\");\r\n      expect(heading).toHaveClass(\"text-foreground\");\r\n    });\r\n\r\n    it(\"should be wrapped in proper container structure\", () => {\r\n      const { container } = render(<PageHeader title=\"Транзакции\" />);\r\n      \r\n      // Проверяем наличие max-width контейнера\r\n      const maxWidthContainer = container.querySelector(\".max-w-7xl\");\r\n      expect(maxWidthContainer).toBeInTheDocument();\r\n      \r\n      // Проверяем наличие flex контейнера для заголовка\r\n      const flexContainer = container.querySelector(\".flex\");\r\n      expect(flexContainer).toBeInTheDocument();\r\n    });\r\n\r\n    it(\"should have responsive flex layout\", () => {\r\n      const { container } = render(<PageHeader title=\"Бюджеты\" />);\r\n      \r\n      const flexContainer = container.querySelector(\".mb-8\");\r\n      expect(flexContainer).toHaveClass(\"flex\");\r\n      expect(flexContainer).toHaveClass(\"flex-col\");\r\n      expect(flexContainer).toHaveClass(\"sm:flex-row\");\r\n    });\r\n  });\r\n\r\n  describe(\"edge cases\", () => {\r\n    it(\"should handle empty title\", () => {\r\n      const { container } = render(<PageHeader title=\"\" />);\r\n      \r\n      const heading = container.querySelector(\"h1\");\r\n      expect(heading).toBeInTheDocument();\r\n      expect(heading?.textContent).toBe(\"\");\r\n    });\r\n\r\n    it(\"should handle very long title\", () => {\r\n      const longTitle = \"Очень длинный заголовок страницы который может не поместиться на экране\";\r\n      const { container } = render(<PageHeader title={longTitle} />);\r\n      \r\n      const heading = container.querySelector(\"h1\");\r\n      expect(heading).toBeInTheDocument();\r\n      expect(heading?.textContent).toBe(longTitle);\r\n    });\r\n\r\n    it(\"should handle title with special characters\", () => {\r\n      const specialTitle = \"Заголовок с символами: @#$%^&*()\";\r\n      const { container } = render(<PageHeader title={specialTitle} />);\r\n      \r\n      const heading = container.querySelector(\"h1\");\r\n      expect(heading).toBeInTheDocument();\r\n      expect(heading?.textContent).toBe(specialTitle);\r\n    });\r\n  });\r\n});\r\n"],"names":["PageHeader","title","div","className","h1","describe","it","Object","defineProperty","window","writable","configurable","value","container","render","heading","querySelector","expect","toBeInTheDocument","toHaveClass","paddingContainer","viewportSizes","forEach","width","textContent","toBe","maxWidthContainer","flexContainer","longTitle","specialTitle"],"mappings":"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"}