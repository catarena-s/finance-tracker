d291d29d60ee9f1b4ae774ad801513b0
/**
 * Unit tests — useBreakpoint
 * Тестирование хука для определения текущего размера экрана и брейкпоинта
 */ "use strict";
// Мокаем useWindowSize
jest.mock("@/hooks/useWindowSize");
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useBreakpoint = require("../../src/hooks/useBreakpoint");
const _useWindowSize = require("../../src/hooks/useWindowSize");
const mockUseWindowSize = _useWindowSize.useWindowSize;
describe("useBreakpoint", ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe("isMobile flag", ()=>{
        it("should return isMobile=true for width < 640px", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 375,
                height: 667
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.isMobile).toBe(true);
            expect(result.current.isTablet).toBe(false);
            expect(result.current.isDesktop).toBe(false);
        });
        it("should return isMobile=false for width >= 640px", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 640,
                height: 800
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.isMobile).toBe(false);
        });
    });
    describe("isTablet flag", ()=>{
        it("should return isTablet=true for width >= 640px and < 1024px", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 768,
                height: 1024
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.isMobile).toBe(false);
            expect(result.current.isTablet).toBe(true);
            expect(result.current.isDesktop).toBe(false);
        });
        it("should return isTablet=false for width < 640px", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 500,
                height: 800
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.isTablet).toBe(false);
        });
        it("should return isTablet=false for width >= 1024px", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 1024,
                height: 768
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.isTablet).toBe(false);
        });
    });
    describe("isDesktop flag", ()=>{
        it("should return isDesktop=true for width >= 1024px", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 1280,
                height: 720
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.isMobile).toBe(false);
            expect(result.current.isTablet).toBe(false);
            expect(result.current.isDesktop).toBe(true);
        });
        it("should return isDesktop=false for width < 1024px", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 1023,
                height: 768
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.isDesktop).toBe(false);
        });
    });
    describe("currentBreakpoint", ()=>{
        it('should return "xs" for width < 640px', ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 320,
                height: 568
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.currentBreakpoint).toBe("xs");
        });
        it('should return "sm" for width >= 640px and < 768px', ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 640,
                height: 800
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.currentBreakpoint).toBe("sm");
        });
        it('should return "md" for width >= 768px and < 1024px', ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 768,
                height: 1024
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.currentBreakpoint).toBe("md");
        });
        it('should return "lg" for width >= 1024px and < 1280px', ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 1024,
                height: 768
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.currentBreakpoint).toBe("lg");
        });
        it('should return "xl" for width >= 1280px and < 1440px', ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 1280,
                height: 720
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.currentBreakpoint).toBe("xl");
        });
        it('should return "2xl" for width >= 1440px', ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 1920,
                height: 1080
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.currentBreakpoint).toBe("2xl");
        });
    });
    describe("width property", ()=>{
        it("should return the current window width", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 1024,
                height: 768
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.width).toBe(1024);
        });
    });
    describe("edge cases", ()=>{
        it("should handle width of 0 (SSR scenario)", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 0,
                height: 0
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result.current.isMobile).toBe(true);
            expect(result.current.currentBreakpoint).toBe("xs");
        });
        it("should handle exact breakpoint boundaries", ()=>{
            // Тест на границе sm (640px)
            mockUseWindowSize.mockReturnValue({
                width: 639,
                height: 800
            });
            const { result: result1 } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result1.current.isMobile).toBe(true);
            expect(result1.current.currentBreakpoint).toBe("xs");
            mockUseWindowSize.mockReturnValue({
                width: 640,
                height: 800
            });
            const { result: result2 } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result2.current.isMobile).toBe(false);
            expect(result2.current.isTablet).toBe(true);
            expect(result2.current.currentBreakpoint).toBe("sm");
            // Тест на границе lg (1024px)
            mockUseWindowSize.mockReturnValue({
                width: 1023,
                height: 768
            });
            const { result: result3 } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result3.current.isTablet).toBe(true);
            expect(result3.current.isDesktop).toBe(false);
            mockUseWindowSize.mockReturnValue({
                width: 1024,
                height: 768
            });
            const { result: result4 } = (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(result4.current.isTablet).toBe(false);
            expect(result4.current.isDesktop).toBe(true);
        });
    });
    describe("delay parameter", ()=>{
        it("should pass delay parameter to useWindowSize", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 1024,
                height: 768
            });
            (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)(300));
            expect(mockUseWindowSize).toHaveBeenCalledWith(300);
        });
        it("should use default delay when not provided", ()=>{
            mockUseWindowSize.mockReturnValue({
                width: 1024,
                height: 768
            });
            (0, _react.renderHook)(()=>(0, _useBreakpoint.useBreakpoint)());
            expect(mockUseWindowSize).toHaveBeenCalledWith(undefined);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxteVxcb3R1c1xcZmluYW5jZV90cmFja2VyXFxmcm9udGVuZFxcX190ZXN0c19fXFxob29rc1xcdXNlQnJlYWtwb2ludC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBVbml0IHRlc3RzIOKAlCB1c2VCcmVha3BvaW50XHJcbiAqINCi0LXRgdGC0LjRgNC+0LLQsNC90LjQtSDRhdGD0LrQsCDQtNC70Y8g0L7Qv9GA0LXQtNC10LvQtdC90LjRjyDRgtC10LrRg9GJ0LXQs9C+INGA0LDQt9C80LXRgNCwINGN0LrRgNCw0L3QsCDQuCDQsdGA0LXQudC60L/QvtC40L3RgtCwXHJcbiAqL1xyXG5pbXBvcnQgeyByZW5kZXJIb29rIH0gZnJvbSBcIkB0ZXN0aW5nLWxpYnJhcnkvcmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlQnJlYWtwb2ludCB9IGZyb20gXCJAL2hvb2tzL3VzZUJyZWFrcG9pbnRcIjtcclxuaW1wb3J0IHsgdXNlV2luZG93U2l6ZSB9IGZyb20gXCJAL2hvb2tzL3VzZVdpbmRvd1NpemVcIjtcclxuXHJcbi8vINCc0L7QutCw0LXQvCB1c2VXaW5kb3dTaXplXHJcbmplc3QubW9jayhcIkAvaG9va3MvdXNlV2luZG93U2l6ZVwiKTtcclxuXHJcbmNvbnN0IG1vY2tVc2VXaW5kb3dTaXplID0gdXNlV2luZG93U2l6ZSBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPFxyXG4gIHR5cGVvZiB1c2VXaW5kb3dTaXplXHJcbj47XHJcblxyXG5kZXNjcmliZShcInVzZUJyZWFrcG9pbnRcIiwgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKFwiaXNNb2JpbGUgZmxhZ1wiLCAoKSA9PiB7XHJcbiAgICBpdChcInNob3VsZCByZXR1cm4gaXNNb2JpbGU9dHJ1ZSBmb3Igd2lkdGggPCA2NDBweFwiLCAoKSA9PiB7XHJcbiAgICAgIG1vY2tVc2VXaW5kb3dTaXplLm1vY2tSZXR1cm5WYWx1ZSh7IHdpZHRoOiAzNzUsIGhlaWdodDogNjY3IH0pO1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQnJlYWtwb2ludCgpKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc01vYmlsZSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzVGFibGV0KS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRGVza3RvcCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdChcInNob3VsZCByZXR1cm4gaXNNb2JpbGU9ZmFsc2UgZm9yIHdpZHRoID49IDY0MHB4XCIsICgpID0+IHtcclxuICAgICAgbW9ja1VzZVdpbmRvd1NpemUubW9ja1JldHVyblZhbHVlKHsgd2lkdGg6IDY0MCwgaGVpZ2h0OiA4MDAgfSk7XHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VCcmVha3BvaW50KCkpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTW9iaWxlKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZShcImlzVGFibGV0IGZsYWdcIiwgKCkgPT4ge1xyXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIGlzVGFibGV0PXRydWUgZm9yIHdpZHRoID49IDY0MHB4IGFuZCA8IDEwMjRweFwiLCAoKSA9PiB7XHJcbiAgICAgIG1vY2tVc2VXaW5kb3dTaXplLm1vY2tSZXR1cm5WYWx1ZSh7IHdpZHRoOiA3NjgsIGhlaWdodDogMTAyNCB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUJyZWFrcG9pbnQoKSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNNb2JpbGUpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNUYWJsZXQpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0Rlc2t0b3ApLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIGlzVGFibGV0PWZhbHNlIGZvciB3aWR0aCA8IDY0MHB4XCIsICgpID0+IHtcclxuICAgICAgbW9ja1VzZVdpbmRvd1NpemUubW9ja1JldHVyblZhbHVlKHsgd2lkdGg6IDUwMCwgaGVpZ2h0OiA4MDAgfSk7XHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VCcmVha3BvaW50KCkpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzVGFibGV0KS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KFwic2hvdWxkIHJldHVybiBpc1RhYmxldD1mYWxzZSBmb3Igd2lkdGggPj0gMTAyNHB4XCIsICgpID0+IHtcclxuICAgICAgbW9ja1VzZVdpbmRvd1NpemUubW9ja1JldHVyblZhbHVlKHsgd2lkdGg6IDEwMjQsIGhlaWdodDogNzY4IH0pO1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQnJlYWtwb2ludCgpKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc1RhYmxldCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoXCJpc0Rlc2t0b3AgZmxhZ1wiLCAoKSA9PiB7XHJcbiAgICBpdChcInNob3VsZCByZXR1cm4gaXNEZXNrdG9wPXRydWUgZm9yIHdpZHRoID49IDEwMjRweFwiLCAoKSA9PiB7XHJcbiAgICAgIG1vY2tVc2VXaW5kb3dTaXplLm1vY2tSZXR1cm5WYWx1ZSh7IHdpZHRoOiAxMjgwLCBoZWlnaHQ6IDcyMCB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUJyZWFrcG9pbnQoKSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNNb2JpbGUpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNUYWJsZXQpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNEZXNrdG9wKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIGlzRGVza3RvcD1mYWxzZSBmb3Igd2lkdGggPCAxMDI0cHhcIiwgKCkgPT4ge1xyXG4gICAgICBtb2NrVXNlV2luZG93U2l6ZS5tb2NrUmV0dXJuVmFsdWUoeyB3aWR0aDogMTAyMywgaGVpZ2h0OiA3NjggfSk7XHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VCcmVha3BvaW50KCkpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRGVza3RvcCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoXCJjdXJyZW50QnJlYWtwb2ludFwiLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBcInhzXCIgZm9yIHdpZHRoIDwgNjQwcHgnLCAoKSA9PiB7XHJcbiAgICAgIG1vY2tVc2VXaW5kb3dTaXplLm1vY2tSZXR1cm5WYWx1ZSh7IHdpZHRoOiAzMjAsIGhlaWdodDogNTY4IH0pO1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQnJlYWtwb2ludCgpKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jdXJyZW50QnJlYWtwb2ludCkudG9CZShcInhzXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gXCJzbVwiIGZvciB3aWR0aCA+PSA2NDBweCBhbmQgPCA3NjhweCcsICgpID0+IHtcclxuICAgICAgbW9ja1VzZVdpbmRvd1NpemUubW9ja1JldHVyblZhbHVlKHsgd2lkdGg6IDY0MCwgaGVpZ2h0OiA4MDAgfSk7XHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VCcmVha3BvaW50KCkpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmN1cnJlbnRCcmVha3BvaW50KS50b0JlKFwic21cIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBcIm1kXCIgZm9yIHdpZHRoID49IDc2OHB4IGFuZCA8IDEwMjRweCcsICgpID0+IHtcclxuICAgICAgbW9ja1VzZVdpbmRvd1NpemUubW9ja1JldHVyblZhbHVlKHsgd2lkdGg6IDc2OCwgaGVpZ2h0OiAxMDI0IH0pO1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQnJlYWtwb2ludCgpKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jdXJyZW50QnJlYWtwb2ludCkudG9CZShcIm1kXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gXCJsZ1wiIGZvciB3aWR0aCA+PSAxMDI0cHggYW5kIDwgMTI4MHB4JywgKCkgPT4ge1xyXG4gICAgICBtb2NrVXNlV2luZG93U2l6ZS5tb2NrUmV0dXJuVmFsdWUoeyB3aWR0aDogMTAyNCwgaGVpZ2h0OiA3NjggfSk7XHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VCcmVha3BvaW50KCkpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmN1cnJlbnRCcmVha3BvaW50KS50b0JlKFwibGdcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBcInhsXCIgZm9yIHdpZHRoID49IDEyODBweCBhbmQgPCAxNDQwcHgnLCAoKSA9PiB7XHJcbiAgICAgIG1vY2tVc2VXaW5kb3dTaXplLm1vY2tSZXR1cm5WYWx1ZSh7IHdpZHRoOiAxMjgwLCBoZWlnaHQ6IDcyMCB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUJyZWFrcG9pbnQoKSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY3VycmVudEJyZWFrcG9pbnQpLnRvQmUoXCJ4bFwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIFwiMnhsXCIgZm9yIHdpZHRoID49IDE0NDBweCcsICgpID0+IHtcclxuICAgICAgbW9ja1VzZVdpbmRvd1NpemUubW9ja1JldHVyblZhbHVlKHsgd2lkdGg6IDE5MjAsIGhlaWdodDogMTA4MCB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUJyZWFrcG9pbnQoKSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY3VycmVudEJyZWFrcG9pbnQpLnRvQmUoXCIyeGxcIik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoXCJ3aWR0aCBwcm9wZXJ0eVwiLCAoKSA9PiB7XHJcbiAgICBpdChcInNob3VsZCByZXR1cm4gdGhlIGN1cnJlbnQgd2luZG93IHdpZHRoXCIsICgpID0+IHtcclxuICAgICAgbW9ja1VzZVdpbmRvd1NpemUubW9ja1JldHVyblZhbHVlKHsgd2lkdGg6IDEwMjQsIGhlaWdodDogNzY4IH0pO1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQnJlYWtwb2ludCgpKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC53aWR0aCkudG9CZSgxMDI0KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZShcImVkZ2UgY2FzZXNcIiwgKCkgPT4ge1xyXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIHdpZHRoIG9mIDAgKFNTUiBzY2VuYXJpbylcIiwgKCkgPT4ge1xyXG4gICAgICBtb2NrVXNlV2luZG93U2l6ZS5tb2NrUmV0dXJuVmFsdWUoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQnJlYWtwb2ludCgpKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc01vYmlsZSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmN1cnJlbnRCcmVha3BvaW50KS50b0JlKFwieHNcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdChcInNob3VsZCBoYW5kbGUgZXhhY3QgYnJlYWtwb2ludCBib3VuZGFyaWVzXCIsICgpID0+IHtcclxuICAgICAgLy8g0KLQtdGB0YIg0L3QsCDQs9GA0LDQvdC40YbQtSBzbSAoNjQwcHgpXHJcbiAgICAgIG1vY2tVc2VXaW5kb3dTaXplLm1vY2tSZXR1cm5WYWx1ZSh7IHdpZHRoOiA2MzksIGhlaWdodDogODAwIH0pO1xyXG4gICAgICBjb25zdCB7IHJlc3VsdDogcmVzdWx0MSB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VCcmVha3BvaW50KCkpO1xyXG4gICAgICBleHBlY3QocmVzdWx0MS5jdXJyZW50LmlzTW9iaWxlKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0MS5jdXJyZW50LmN1cnJlbnRCcmVha3BvaW50KS50b0JlKFwieHNcIik7XHJcblxyXG4gICAgICBtb2NrVXNlV2luZG93U2l6ZS5tb2NrUmV0dXJuVmFsdWUoeyB3aWR0aDogNjQwLCBoZWlnaHQ6IDgwMCB9KTtcclxuICAgICAgY29uc3QgeyByZXN1bHQ6IHJlc3VsdDIgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQnJlYWtwb2ludCgpKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdDIuY3VycmVudC5pc01vYmlsZSkudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQyLmN1cnJlbnQuaXNUYWJsZXQpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQyLmN1cnJlbnQuY3VycmVudEJyZWFrcG9pbnQpLnRvQmUoXCJzbVwiKTtcclxuXHJcbiAgICAgIC8vINCi0LXRgdGCINC90LAg0LPRgNCw0L3QuNGG0LUgbGcgKDEwMjRweClcclxuICAgICAgbW9ja1VzZVdpbmRvd1NpemUubW9ja1JldHVyblZhbHVlKHsgd2lkdGg6IDEwMjMsIGhlaWdodDogNzY4IH0pO1xyXG4gICAgICBjb25zdCB7IHJlc3VsdDogcmVzdWx0MyB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VCcmVha3BvaW50KCkpO1xyXG4gICAgICBleHBlY3QocmVzdWx0My5jdXJyZW50LmlzVGFibGV0KS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0My5jdXJyZW50LmlzRGVza3RvcCkudG9CZShmYWxzZSk7XHJcblxyXG4gICAgICBtb2NrVXNlV2luZG93U2l6ZS5tb2NrUmV0dXJuVmFsdWUoeyB3aWR0aDogMTAyNCwgaGVpZ2h0OiA3NjggfSk7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0OiByZXN1bHQ0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUJyZWFrcG9pbnQoKSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQ0LmN1cnJlbnQuaXNUYWJsZXQpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVzdWx0NC5jdXJyZW50LmlzRGVza3RvcCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZShcImRlbGF5IHBhcmFtZXRlclwiLCAoKSA9PiB7XHJcbiAgICBpdChcInNob3VsZCBwYXNzIGRlbGF5IHBhcmFtZXRlciB0byB1c2VXaW5kb3dTaXplXCIsICgpID0+IHtcclxuICAgICAgbW9ja1VzZVdpbmRvd1NpemUubW9ja1JldHVyblZhbHVlKHsgd2lkdGg6IDEwMjQsIGhlaWdodDogNzY4IH0pO1xyXG5cclxuICAgICAgcmVuZGVySG9vaygoKSA9PiB1c2VCcmVha3BvaW50KDMwMCkpO1xyXG5cclxuICAgICAgZXhwZWN0KG1vY2tVc2VXaW5kb3dTaXplKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgzMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJzaG91bGQgdXNlIGRlZmF1bHQgZGVsYXkgd2hlbiBub3QgcHJvdmlkZWRcIiwgKCkgPT4ge1xyXG4gICAgICBtb2NrVXNlV2luZG93U2l6ZS5tb2NrUmV0dXJuVmFsdWUoeyB3aWR0aDogMTAyNCwgaGVpZ2h0OiA3NjggfSk7XHJcblxyXG4gICAgICByZW5kZXJIb29rKCgpID0+IHVzZUJyZWFrcG9pbnQoKSk7XHJcblxyXG4gICAgICBleHBlY3QobW9ja1VzZVdpbmRvd1NpemUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHVuZGVmaW5lZCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIm1vY2tVc2VXaW5kb3dTaXplIiwidXNlV2luZG93U2l6ZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIm1vY2tSZXR1cm5WYWx1ZSIsIndpZHRoIiwiaGVpZ2h0IiwicmVzdWx0IiwicmVuZGVySG9vayIsInVzZUJyZWFrcG9pbnQiLCJleHBlY3QiLCJjdXJyZW50IiwiaXNNb2JpbGUiLCJ0b0JlIiwiaXNUYWJsZXQiLCJpc0Rlc2t0b3AiLCJjdXJyZW50QnJlYWtwb2ludCIsInJlc3VsdDEiLCJyZXN1bHQyIiwicmVzdWx0MyIsInJlc3VsdDQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDO0FBS0QsdUJBQXVCO0FBQ3ZCQSxLQUFLQyxJQUFJLENBQUM7Ozs7dUJBTGlCOytCQUNHOytCQUNBO0FBSzlCLE1BQU1DLG9CQUFvQkMsNEJBQWE7QUFJdkNDLFNBQVMsaUJBQWlCO0lBQ3hCQyxXQUFXO1FBQ1RMLEtBQUtNLGFBQWE7SUFDcEI7SUFFQUYsU0FBUyxpQkFBaUI7UUFDeEJHLEdBQUcsaURBQWlEO1lBQ2xETCxrQkFBa0JNLGVBQWUsQ0FBQztnQkFBRUMsT0FBTztnQkFBS0MsUUFBUTtZQUFJO1lBRTVELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsNEJBQWE7WUFFakRDLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0MsUUFBUSxFQUFFQyxJQUFJLENBQUM7WUFDckNILE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0csUUFBUSxFQUFFRCxJQUFJLENBQUM7WUFDckNILE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0ksU0FBUyxFQUFFRixJQUFJLENBQUM7UUFDeEM7UUFFQVYsR0FBRyxtREFBbUQ7WUFDcERMLGtCQUFrQk0sZUFBZSxDQUFDO2dCQUFFQyxPQUFPO2dCQUFLQyxRQUFRO1lBQUk7WUFFNUQsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw0QkFBYTtZQUVqREMsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxRQUFRLEVBQUVDLElBQUksQ0FBQztRQUN2QztJQUNGO0lBRUFiLFNBQVMsaUJBQWlCO1FBQ3hCRyxHQUFHLCtEQUErRDtZQUNoRUwsa0JBQWtCTSxlQUFlLENBQUM7Z0JBQUVDLE9BQU87Z0JBQUtDLFFBQVE7WUFBSztZQUU3RCxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDRCQUFhO1lBRWpEQyxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLFFBQVEsRUFBRUMsSUFBSSxDQUFDO1lBQ3JDSCxPQUFPSCxPQUFPSSxPQUFPLENBQUNHLFFBQVEsRUFBRUQsSUFBSSxDQUFDO1lBQ3JDSCxPQUFPSCxPQUFPSSxPQUFPLENBQUNJLFNBQVMsRUFBRUYsSUFBSSxDQUFDO1FBQ3hDO1FBRUFWLEdBQUcsa0RBQWtEO1lBQ25ETCxrQkFBa0JNLGVBQWUsQ0FBQztnQkFBRUMsT0FBTztnQkFBS0MsUUFBUTtZQUFJO1lBRTVELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsNEJBQWE7WUFFakRDLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0csUUFBUSxFQUFFRCxJQUFJLENBQUM7UUFDdkM7UUFFQVYsR0FBRyxvREFBb0Q7WUFDckRMLGtCQUFrQk0sZUFBZSxDQUFDO2dCQUFFQyxPQUFPO2dCQUFNQyxRQUFRO1lBQUk7WUFFN0QsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw0QkFBYTtZQUVqREMsT0FBT0gsT0FBT0ksT0FBTyxDQUFDRyxRQUFRLEVBQUVELElBQUksQ0FBQztRQUN2QztJQUNGO0lBRUFiLFNBQVMsa0JBQWtCO1FBQ3pCRyxHQUFHLG9EQUFvRDtZQUNyREwsa0JBQWtCTSxlQUFlLENBQUM7Z0JBQUVDLE9BQU87Z0JBQU1DLFFBQVE7WUFBSTtZQUU3RCxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDRCQUFhO1lBRWpEQyxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLFFBQVEsRUFBRUMsSUFBSSxDQUFDO1lBQ3JDSCxPQUFPSCxPQUFPSSxPQUFPLENBQUNHLFFBQVEsRUFBRUQsSUFBSSxDQUFDO1lBQ3JDSCxPQUFPSCxPQUFPSSxPQUFPLENBQUNJLFNBQVMsRUFBRUYsSUFBSSxDQUFDO1FBQ3hDO1FBRUFWLEdBQUcsb0RBQW9EO1lBQ3JETCxrQkFBa0JNLGVBQWUsQ0FBQztnQkFBRUMsT0FBTztnQkFBTUMsUUFBUTtZQUFJO1lBRTdELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsNEJBQWE7WUFFakRDLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0ksU0FBUyxFQUFFRixJQUFJLENBQUM7UUFDeEM7SUFDRjtJQUVBYixTQUFTLHFCQUFxQjtRQUM1QkcsR0FBRyx3Q0FBd0M7WUFDekNMLGtCQUFrQk0sZUFBZSxDQUFDO2dCQUFFQyxPQUFPO2dCQUFLQyxRQUFRO1lBQUk7WUFFNUQsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw0QkFBYTtZQUVqREMsT0FBT0gsT0FBT0ksT0FBTyxDQUFDSyxpQkFBaUIsRUFBRUgsSUFBSSxDQUFDO1FBQ2hEO1FBRUFWLEdBQUcscURBQXFEO1lBQ3RETCxrQkFBa0JNLGVBQWUsQ0FBQztnQkFBRUMsT0FBTztnQkFBS0MsUUFBUTtZQUFJO1lBRTVELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsNEJBQWE7WUFFakRDLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0ssaUJBQWlCLEVBQUVILElBQUksQ0FBQztRQUNoRDtRQUVBVixHQUFHLHNEQUFzRDtZQUN2REwsa0JBQWtCTSxlQUFlLENBQUM7Z0JBQUVDLE9BQU87Z0JBQUtDLFFBQVE7WUFBSztZQUU3RCxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDRCQUFhO1lBRWpEQyxPQUFPSCxPQUFPSSxPQUFPLENBQUNLLGlCQUFpQixFQUFFSCxJQUFJLENBQUM7UUFDaEQ7UUFFQVYsR0FBRyx1REFBdUQ7WUFDeERMLGtCQUFrQk0sZUFBZSxDQUFDO2dCQUFFQyxPQUFPO2dCQUFNQyxRQUFRO1lBQUk7WUFFN0QsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw0QkFBYTtZQUVqREMsT0FBT0gsT0FBT0ksT0FBTyxDQUFDSyxpQkFBaUIsRUFBRUgsSUFBSSxDQUFDO1FBQ2hEO1FBRUFWLEdBQUcsdURBQXVEO1lBQ3hETCxrQkFBa0JNLGVBQWUsQ0FBQztnQkFBRUMsT0FBTztnQkFBTUMsUUFBUTtZQUFJO1lBRTdELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsNEJBQWE7WUFFakRDLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0ssaUJBQWlCLEVBQUVILElBQUksQ0FBQztRQUNoRDtRQUVBVixHQUFHLDJDQUEyQztZQUM1Q0wsa0JBQWtCTSxlQUFlLENBQUM7Z0JBQUVDLE9BQU87Z0JBQU1DLFFBQVE7WUFBSztZQUU5RCxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDRCQUFhO1lBRWpEQyxPQUFPSCxPQUFPSSxPQUFPLENBQUNLLGlCQUFpQixFQUFFSCxJQUFJLENBQUM7UUFDaEQ7SUFDRjtJQUVBYixTQUFTLGtCQUFrQjtRQUN6QkcsR0FBRywwQ0FBMEM7WUFDM0NMLGtCQUFrQk0sZUFBZSxDQUFDO2dCQUFFQyxPQUFPO2dCQUFNQyxRQUFRO1lBQUk7WUFFN0QsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw0QkFBYTtZQUVqREMsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTixLQUFLLEVBQUVRLElBQUksQ0FBQztRQUNwQztJQUNGO0lBRUFiLFNBQVMsY0FBYztRQUNyQkcsR0FBRywyQ0FBMkM7WUFDNUNMLGtCQUFrQk0sZUFBZSxDQUFDO2dCQUFFQyxPQUFPO2dCQUFHQyxRQUFRO1lBQUU7WUFFeEQsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw0QkFBYTtZQUVqREMsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxRQUFRLEVBQUVDLElBQUksQ0FBQztZQUNyQ0gsT0FBT0gsT0FBT0ksT0FBTyxDQUFDSyxpQkFBaUIsRUFBRUgsSUFBSSxDQUFDO1FBQ2hEO1FBRUFWLEdBQUcsNkNBQTZDO1lBQzlDLDZCQUE2QjtZQUM3Qkwsa0JBQWtCTSxlQUFlLENBQUM7Z0JBQUVDLE9BQU87Z0JBQUtDLFFBQVE7WUFBSTtZQUM1RCxNQUFNLEVBQUVDLFFBQVFVLE9BQU8sRUFBRSxHQUFHVCxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDRCQUFhO1lBQzFEQyxPQUFPTyxRQUFRTixPQUFPLENBQUNDLFFBQVEsRUFBRUMsSUFBSSxDQUFDO1lBQ3RDSCxPQUFPTyxRQUFRTixPQUFPLENBQUNLLGlCQUFpQixFQUFFSCxJQUFJLENBQUM7WUFFL0NmLGtCQUFrQk0sZUFBZSxDQUFDO2dCQUFFQyxPQUFPO2dCQUFLQyxRQUFRO1lBQUk7WUFDNUQsTUFBTSxFQUFFQyxRQUFRVyxPQUFPLEVBQUUsR0FBR1YsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw0QkFBYTtZQUMxREMsT0FBT1EsUUFBUVAsT0FBTyxDQUFDQyxRQUFRLEVBQUVDLElBQUksQ0FBQztZQUN0Q0gsT0FBT1EsUUFBUVAsT0FBTyxDQUFDRyxRQUFRLEVBQUVELElBQUksQ0FBQztZQUN0Q0gsT0FBT1EsUUFBUVAsT0FBTyxDQUFDSyxpQkFBaUIsRUFBRUgsSUFBSSxDQUFDO1lBRS9DLDhCQUE4QjtZQUM5QmYsa0JBQWtCTSxlQUFlLENBQUM7Z0JBQUVDLE9BQU87Z0JBQU1DLFFBQVE7WUFBSTtZQUM3RCxNQUFNLEVBQUVDLFFBQVFZLE9BQU8sRUFBRSxHQUFHWCxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDRCQUFhO1lBQzFEQyxPQUFPUyxRQUFRUixPQUFPLENBQUNHLFFBQVEsRUFBRUQsSUFBSSxDQUFDO1lBQ3RDSCxPQUFPUyxRQUFRUixPQUFPLENBQUNJLFNBQVMsRUFBRUYsSUFBSSxDQUFDO1lBRXZDZixrQkFBa0JNLGVBQWUsQ0FBQztnQkFBRUMsT0FBTztnQkFBTUMsUUFBUTtZQUFJO1lBQzdELE1BQU0sRUFBRUMsUUFBUWEsT0FBTyxFQUFFLEdBQUdaLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsNEJBQWE7WUFDMURDLE9BQU9VLFFBQVFULE9BQU8sQ0FBQ0csUUFBUSxFQUFFRCxJQUFJLENBQUM7WUFDdENILE9BQU9VLFFBQVFULE9BQU8sQ0FBQ0ksU0FBUyxFQUFFRixJQUFJLENBQUM7UUFDekM7SUFDRjtJQUVBYixTQUFTLG1CQUFtQjtRQUMxQkcsR0FBRyxnREFBZ0Q7WUFDakRMLGtCQUFrQk0sZUFBZSxDQUFDO2dCQUFFQyxPQUFPO2dCQUFNQyxRQUFRO1lBQUk7WUFFN0RFLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsNEJBQWEsRUFBQztZQUUvQkMsT0FBT1osbUJBQW1CdUIsb0JBQW9CLENBQUM7UUFDakQ7UUFFQWxCLEdBQUcsOENBQThDO1lBQy9DTCxrQkFBa0JNLGVBQWUsQ0FBQztnQkFBRUMsT0FBTztnQkFBTUMsUUFBUTtZQUFJO1lBRTdERSxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDRCQUFhO1lBRTlCQyxPQUFPWixtQkFBbUJ1QixvQkFBb0IsQ0FBQ0M7UUFDakQ7SUFDRjtBQUNGIn0=